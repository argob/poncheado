<!DOCTYPE html>
<!--[if IEMobile 7 ]> <html lang="es"class="iem7"> <![endif]-->
<!--[if lt IE 7 ]> <html lang="es" class="ie6 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7 ]>    <html lang="es" class="ie7 lt-ie8"> <![endif]-->
<!--[if IE 8 ]>    <html lang="es" class="ie8"> <![endif]-->
<!--[if (gte IE 9)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html lang="es"><!--<![endif]-->
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Banco de Pruebas</title>
  <meta name="description" content="Base de html y css para la creación de sitios pertenecientes a la Administración Pública Nacional de la República Argentina.">
  <meta name="author" content="Presidencia de la Nación">
  <link rel="shortcut icon" href="/favicon.ico">

  <!-- Nav and address bar color -->
  <meta name="theme-color" content="#0072b8">
  <meta name="msapplication-navbutton-color" content="#0072b8">
  <meta name="apple-mobile-web-app-status-bar-style" content="#0072b8">

  <meta property="og:url" content="http://localhost:4000/proyectos/argentina/estatico/obras-publicas/" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Banco de Pruebas" />
  <meta property="og:description" content="Base de html y css para la creación de sitios pertenecientes a la Administración Pública Nacional de la República Argentina." />
  <meta property="og:image" content="/ejemplos/img/jumbotron.jpg" />
  <meta property="og:locale" content="es_AR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Banco de Pruebas" />
  <meta name="twitter:description" content="Base de html y css para la creación de sitios pertenecientes a la Administración Pública Nacional de la República Argentina." />
  <meta name="twitter:image" content="/ejemplos/img/jumbotron.jpg" />

  <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
  <link href="/vendor/poncho/dist/css/droid-serif.css" rel="stylesheet">
  <link href="/node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
  <link href="/node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <!--<link href="/node_modules/chosen-js/chosen.css" rel="stylesheet">-->
  <link href="/node_modules/flag-icon-css/css/flag-icon.css" rel="stylesheet"> 
  <!-- <link href="/vendor/poncho/dist/css/poncho.css" rel="stylesheet">
  <link href="/vendor/iconos/dist/css/icono-arg.css" rel="stylesheet"> -->
  <link href="http://argob.github.io/poncho/node_modules/argob-poncho/dist/css/poncho.min.css" rel="stylesheet">
  <link href="http://argob.github.io/poncho/node_modules/argob-poncho/dist/css/icono-arg.css" rel="stylesheet">
  <link href="/css/argentina.css" rel="stylesheet">
  <link href="/css/docs.css" rel="stylesheet">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="/node_modules/html5shiv/html5shiv.js"></script>
      <script src="/node_modules/respond.js/respond.min.js"></script>
  <![endif]-->  
    
</head>

    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <!--<script src="/node_modules/chosen-js/chosen.jquery.js"></script>-->

  <body>

    
<header>


  <nav class="navbar navbar-top navbar-default" role="navigation">
    <div class="container">
      <div>

        <div class="navbar-header">
          <a class="navbar-brand" href="/proyectos/argentina/" aria-label="Argentina.gob.ar Presidencia de la Nación">
            <img alt="Argentina.gob.ar" src="/proyectos/argentina/img/argentinagob.svg" height="50">
          </a>
          <a class="btn btn-success btn-login visible-xs" href="/proyectos/mi-argentina/v3/"><span class="fa fa-user fa-fw"></span></a>
          <a class="btn btn-primary btn-login visible-xs" href="#" onclick="$('.navbar.navbar-top').addClass('state-search');"><span class="fa fa-search fa-fw"></span></a>
        </div>

        <!--<ul class="nav navbar-nav navbar-right hidden-xs">
          <a href="#" onclick="$('.navbar.navbar-top').removeClass('state-search');" class="btn btn-link visible-xs"> <i class="fa fa-times"></i> </a>
          <li>
            <div class="input-group">
              
              <input id="buscar" type="text" class="form-control" aria-label="Buscar trámites, servicios o áreas" placeholder="Buscar trámites, servicios o áreas ...">
              <span class="input-group-btn">
                <button class="btn btn-primary" id="buscar-btn" type="button" aria-label="Buscar"><i class="fa fa-search"></i></button>
              </span>
            </div>
          </li>              
          <a href="#" class="dropdown-toggle btn btn-success hidden-xs" aria-label="Ingresar a Mi Argentina" data-toggle="dropdown"><i class="fa fa-user"></i> &nbsp; Mi Argentina</a>
        </ul>-->
        <ul class="nav navbar-nav navbar-right hidden-xs"> <a
            onclick="jQuery('.navbar.navbar-top').removeClass('state-search');" href="#"
            class="btn btn-link visible-xs"> <i class="fa fa-times"></i> </a>
          <div id="cd-login"> <a id="cd-login" href="https://mi.argentina.gob.ar" class="btn btn-link hidden-xs"
              aria-label="Ingresar a Mi Argentina"> <i class="icono-arg-mi-argentina"></i>Mi Argentina</a></div>
        </ul>
      </div>
    </div>
  </nav>

</header>


<script type="text/javascript">

  var busqueda = document.getElementById('buscar');
  var buscar = document.getElementById('buscar-btn');
  buscar.onclick = function () {
    var buscado = busqueda.value;
    location.href = "http://www.argentina.gob.ar/buscar/" + buscado;
  };
  
  //PONCHO LABS
  var url_string = window.location.href;
  var url = new URL(url_string);
  var lab = url.searchParams.get("lab");
  
  
  if(lab == ""){
    $("head").append('<link href="/proyectos/argentina/pruebas/poncho_lab.css" rel="stylesheet">');
  }
</script>

    <main role="main">
      <section class="jumbotron" style="background-image: url('/sites/default/files/obras.jpg');">
<div class="jumbotron_bar">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <ol class="breadcrumb pull-left">
            <li><a href="/">Inicio</a></li>
            <li class="active">Ministerio del Interior</li>
          </ol>                    
        </div>
      </div>
    </div>
  </div>
  <div class="jumbotron_body">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2 text-center">
          <h2>Obras para mejorar la calidad de vida de todos los argentinos</h2>
        </div>
      </div>
    </div>
  </div>
  <div class="overlay"></div>
</section>

<div class="container">
  
  <section>
    <h2 class="text-center m-b-2 h1">Buscador de obras</h2>
    <div id="obras">
      <div class="row">
        <div class="col-md-6">    
          <div class="form-group">
            <label>Buscá por obra</label>
            <input class="form-control search" placeholder="Buscá obras por nombre o descripcion">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="">Provincia</label>
            <select id="tipo-provincia" class="form-control">
              <option value="Todas">Todas</option>
              <option value="Buenos Aires">Buenos Aires</option>
              <option value="Capital Federal">Capital Federal</option>
              <option value="Catamarca">Catamarca</option>
              <option value="Chaco">Chaco</option>
              <option value="Chubut">Chubut</option>
              <option value="Córdoba">Córdoba</option>
              <option value="Corrientes">Corrientes</option>
              <option value="Entre Ríos">Entre Ríos</option>
              <option value="Jujuy">Jujuy</option>
              <option value="Formosa">Formosa</option>
              <option value="La Pampa">La Pampa</option>
              <option value="La Rioja">La Rioja</option>
              <option value="Mendoza">Mendoza</option>
              <option value="Neuquén">Neuquén</option>
              <option value="Misiones">Misiones</option>
              <option value="Río Negro">Río Negro</option>
              <option value="Salta">Salta</option>
              <option value="San Juan">San Juan</option>
              <option value="San Luis">San Luis</option>
              <option value="Santa Cruz">Santa Cruz</option>
              <option value="Santa Fe">Santa Fe</option>
              <option value="Santiago del Estero">Santiago del Estero</option>
              <option value="Tucumán">Tucumán</option>
              <option value="Tierra del Fuego">Tierra del Fuego</option>
              

            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="">Tipo de Obra</label>
            <select id="tipo-obra" class="form-control">
              <option value="Todas">Todas</option>
              <option value="Hábitat">Hábitat</option>
              <option value="Renovación Urbana">Renovación Urbana</option>
              <option value="Cloacas">Cloacas</option>
              <option value="Agua potable">Agua potable</option>
              <option value="Vivienda">Vivienda</option>
              <option value="Cultura">Cultura</option>
              <option value="Educación">Educación</option>
              <option value="Salud">Salud</option>
              <option value="Obras para evitar inundaciones">Obras para evitar inundaciones</option>
              <option value="Espacio Público">Espacio Público</option>
              <option value="Patrimonio">Patrimonio</option>
            </select>
          </div>
        </div>
      </div>
      <div class="row">
      </div>
      <div class="list row panels-row m-y-3" data-render="tarjetas">
      </div>
    </div>
  </section> 
</div>

<div data-render="modales"></div> 

<div class="container">
 <div class="row">
   <div class="col-md-12">
     <div id="alerta" class="alert alert-warning col-md-4 no-result">
      <div class="media">
        <div class="media-left media-middle">
          <i class="fa fa-warning fa-fw fa-2x"></i>
        </div>
        <div class="media-body">
          <p>No hay resultados para mostrar</p>
        </div>
      </div>
    </div> 
   </div>
 </div> 
</div>

<!--
<script src="/node_modules/list.js/dist/list.min.js"></script>
<script src="/node_modules/moment/min/moment.min.js"></script>
<script src="/node_modules/moment/locale/es.js"></script>
-->

<script src="https://www.argentina.gob.ar/profiles/argentinagobar/themes/argentinagobar/argentinagobar_theme/js/listjs/list.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/es.js"></script>

<script>

  (function($){

    var templates = {
      tarjeta: `<div class="col-xs-12 col-sm-6 col-md-4 item">
    <a href="#obras-{index}" data-toggle="modal" class="panel panel-default">
        <div class="panel-body">
            <div class="media">
                <div class="media-left media-middle">
                    <span class="fa fa-{icono} fa-2x fa-fw text-muted" aria-hidden="true"></span>
                </div>
                <div class="media-body media-middle">
                    <div class="text-muted">
                        <h4>{tipodeobra}</h4>
                    </div>
                </div>
                <h3 class="nombre-obra m-t-1">{titulo}</h3>
                <p class="text-muted descripcion-obra">{descripcion}</p>
                <div class="media">
                    <div class="text-muted">
                        <div class="media m-t-1">Provincia: <span>{provincia}</span></div>
                        <div class="media m-t-1">Localidad: <span>{localidad}</span></div>
                        <div class="media m-t-1">Beneficiarios: <span>{beneficiarios}</span></div>
                        <div class="media m-t-1">Estado: <span>{estado}</span></div>
                    </div>
                </div>
              </div>
        </div>
    </a>
</div>`,
      modal: `<div id="obras-{index}" class="modal fade" tabindex="-1" role="dialog"> 
                <div class="modal-dialog modal-lg">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span> </button> 
                      <h4 class="nombre-obra modal-title">{titulo}</h4>
                      <p class="text-muted descripcion-obra m-t-1">{descripcion}</p>
                    </div>
                    <div class="modal-body">
                      <div class="embed-responsive embed-responsive-16by9">
                        
                      <iframe class="embed-responsive-item" src="{video}" frameborder="0" allowfullscreen></iframe>
                      </div>
                    </div>
                  </div>
                </div>
              </div>`
    }

    window.obras = [];
    window.configobras = 'Todas';
    window.configprovincia = 'Todas';

    $.ajax({
      url: 'https://interfaces.argentina.gob.ar/api/public/v1.0/inap/1rO0sGwj7Z9PA_Kg6rmBsxjLmUhlXBbYQnxdydBNsUiI/1',
      data: 'json',
      success: function(response){







        $.each(response.feed.entry, function(index, row){

          
            obras.push({
              index: index,
              tipodeobra: row.gsx$tipodeobra.$t,
              titulo: row.gsx$titulo.$t,
              icono: row.gsx$icono.$t,
              descripcion: row.gsx$descripcion.$t,
              video: row.gsx$video.$t,
              provincia: row.gsx$provincia.$t,
              localidad: row.gsx$localidad.$t,
              beneficiarios: row.gsx$beneficiarios.$t,
              estado: row.gsx$estado.$t
              
            });

          

          

        })

        render.tarjetas();

        var listOptions = { valueNames: [ 'nombre-obra', 'descripcion-obra' ] };
        var obrasList = new List('obras', listOptions);

        $('.no-result').hide();

        obrasList.on('updated', function(list) {
          if (list.matchingItems.length > 0) {
            $('.no-result').hide();
            $('.list').show();
          } else {
            $('.no-result').show();
            $('.list').hide();//se esconde para sacar marginado cuando no hay resultados
          }
        })                


      }
    });


    var render = {
      tarjetas: function( ){

        $('[data-render=tarjetas]').html('');
        $('[data-render=modales]').html('');

       var html = "";


        $.each(obras, function(index, obras){

          if ( configprovincia == 'Todas' && configobras == 'Todas' || configobras == obras.tipodeobra && configprovincia == obras.provincia || configprovincia == 'Todas' && configobras == obras.tipodeobra ||  configprovincia == obras.provincia && configobras == 'Todas' ) {

            html = templates.tarjeta;
            var modal = templates.modal;

            html = html.replace(/{titulo}/gi, obras.titulo)
            .replace(/{index}/gi, index)
            .replace(/{tipodeobra}/gi, obras.tipodeobra)
            .replace(/{descripcion}/gi, obras.descripcion.substring(0, 100) + '...')
            .replace(/{icono}/gi, obras.icono)
            .replace(/{provincia}/gi, obras.provincia)
            .replace(/{localidad}/gi, obras.localidad)
            .replace(/{beneficiarios}/gi, obras.beneficiarios)
            .replace(/{estado}/gi, obras.estado);


            modal = modal.replace(/{index}/gi, index)
            .replace(/{titulo}/gi, obras.titulo)
            .replace(/{descripcion}/gi, obras.descripcion)
            .replace(/{video}/gi, obras.video);

            $('[data-render=tarjetas]').append( html );
            $('[data-render=modales]').append( modal );      

          }

          if (html == "") {
                $('.no-result').show();
                $('.list').hide();//se esconde para sacar marginado cuando no hay resultados
          }
          else {
                $('.no-result').hide();
                $('.list').show();
          } 


        });

      }   

    }

    $("#tipo-provincia").on("change", function() {
      configprovincia = $( "#tipo-provincia option:selected" ).val();
      render.tarjetas();
    });

    $("#tipo-obra").on("change", function() {
      configobras = $( "#tipo-obra option:selected" ).val();
      render.tarjetas();
    });



  })(jQuery);

     
</script>


    </main>
    
<footer class="main-footer">
    <div class="container">
        <section>
            <div class="row">
                <div class="col-sm-6 col-sm-12">
                    <section class="block block-block clearfix"> <img class="image-responsive"
                            src="http://argob.github.io/poncho/plantillas/paginas-de-argentina/img/argentinagob.svg"
                            alt="Argentina.gob.ar - Presidencia de la Nación">
                        <p class="text-muted small m-b-2"> <a
                                href="https://creativecommons.org/licenses/by/4.0/deed.es" target="_blank">Los
                                contenidos de Argentina.gob.ar están licenciados bajo Creative Commons Atribución 4.0 Internacional</a></p>
                    </section>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="region region-footer2">
                        <section id="block-menu-menu-footer-2" class="block block-menu clearfix">
                            <ul class="menu ">
                                <li class="first leaf"><a href="/servicios">Trámites y servicios</a></li>
                                <li class="leaf"><a href="https://www.argentina.gob.ar/turnos">Turnos</a></li>
                                <li class="leaf"><a href="/organismos">Organismos del Estado</a></li>
                                <li class="leaf"><a href="http://mapadelestado.jefatura.gob.ar/">Mapa del Estado</a>
                                </li>
                                <li class="last leaf"><a href="/normativa">Leyes argentinas</a></li>
                            </ul>
                        </section>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="region region-footer3">
                        <section id="block-menu-menu-footer-3" class="block block-menu clearfix">
                            <ul class="menu">
                                <li class="first leaf"><a href="/acerca">Acerca de este sitio</a></li>
                                <li class="leaf"><a href="/terminos-y-condiciones">Términos y condiciones</a></li>
                                <li class="last leaf"><a href="/ayuda">Ayuda</a></li>
                            </ul>
                        </section>
                    </div>
                </div>
            </div>
        </section>
    </div>
</footer>

    
  </body>
</html>
