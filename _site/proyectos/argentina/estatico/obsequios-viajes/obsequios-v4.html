<!DOCTYPE html>
<!--[if IEMobile 7 ]> <html lang="es"class="iem7"> <![endif]-->
<!--[if lt IE 7 ]> <html lang="es" class="ie6 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7 ]>    <html lang="es" class="ie7 lt-ie8"> <![endif]-->
<!--[if IE 8 ]>    <html lang="es" class="ie8"> <![endif]-->
<!--[if (gte IE 9)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html lang="es"><!--<![endif]-->
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Banco de Pruebas</title>
  <meta name="description" content="Base de html y css para la creación de sitios pertenecientes a la Administración Pública Nacional de la República Argentina.">
  <meta name="author" content="Presidencia de la Nación">
  <link rel="shortcut icon" href="/favicon.ico">

  <!-- Nav and address bar color -->
  <meta name="theme-color" content="#0072b8">
  <meta name="msapplication-navbutton-color" content="#0072b8">
  <meta name="apple-mobile-web-app-status-bar-style" content="#0072b8">

  <meta property="og:url" content="http://localhost:4000/proyectos/argentina/estatico/obsequios-viajes/obsequios-v4.html" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Banco de Pruebas" />
  <meta property="og:description" content="Base de html y css para la creación de sitios pertenecientes a la Administración Pública Nacional de la República Argentina." />
  <meta property="og:image" content="/ejemplos/img/jumbotron.jpg" />
  <meta property="og:locale" content="es_AR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Banco de Pruebas" />
  <meta name="twitter:description" content="Base de html y css para la creación de sitios pertenecientes a la Administración Pública Nacional de la República Argentina." />
  <meta name="twitter:image" content="/ejemplos/img/jumbotron.jpg" />

  <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
  <link href="/vendor/poncho/dist/css/droid-serif.css" rel="stylesheet">
  <link href="/node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
  <link href="/node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <!--<link href="/node_modules/chosen-js/chosen.css" rel="stylesheet">-->
  <link href="/node_modules/flag-icon-css/css/flag-icon.css" rel="stylesheet"> 
  <!-- <link href="/vendor/poncho/dist/css/poncho.css" rel="stylesheet">
  <link href="/vendor/iconos/dist/css/icono-arg.css" rel="stylesheet"> -->
  <link href="http://argob.github.io/poncho/node_modules/argob-poncho/dist/css/poncho.min.css" rel="stylesheet">
  <link href="http://argob.github.io/poncho/node_modules/argob-poncho/dist/css/icono-arg.css" rel="stylesheet">
  <link href="/css/argentina.css" rel="stylesheet">
  <link href="/css/docs.css" rel="stylesheet">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="/node_modules/html5shiv/html5shiv.js"></script>
      <script src="/node_modules/respond.js/respond.min.js"></script>
  <![endif]-->  
    
</head>

    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <!--<script src="/node_modules/chosen-js/chosen.jquery.js"></script>-->

  <body>

    
<header>


  <nav class="navbar navbar-top navbar-default" role="navigation">
    <div class="container">
      <div>

        <div class="navbar-header">
          <a class="navbar-brand" href="/proyectos/argentina/" aria-label="Argentina.gob.ar Presidencia de la Nación">
            <img alt="Argentina.gob.ar" src="/proyectos/argentina/img/argentinagob.svg" height="50">
          </a>
          <a class="btn btn-success btn-login visible-xs" href="/proyectos/mi-argentina/v3/"><span class="fa fa-user fa-fw"></span></a>
          <a class="btn btn-primary btn-login visible-xs" href="#" onclick="$('.navbar.navbar-top').addClass('state-search');"><span class="fa fa-search fa-fw"></span></a>
        </div>

        <!--<ul class="nav navbar-nav navbar-right hidden-xs">
          <a href="#" onclick="$('.navbar.navbar-top').removeClass('state-search');" class="btn btn-link visible-xs"> <i class="fa fa-times"></i> </a>
          <li>
            <div class="input-group">
              
              <input id="buscar" type="text" class="form-control" aria-label="Buscar trámites, servicios o áreas" placeholder="Buscar trámites, servicios o áreas ...">
              <span class="input-group-btn">
                <button class="btn btn-primary" id="buscar-btn" type="button" aria-label="Buscar"><i class="fa fa-search"></i></button>
              </span>
            </div>
          </li>              
          <a href="#" class="dropdown-toggle btn btn-success hidden-xs" aria-label="Ingresar a Mi Argentina" data-toggle="dropdown"><i class="fa fa-user"></i> &nbsp; Mi Argentina</a>
        </ul>-->
        <ul class="nav navbar-nav navbar-right hidden-xs"> <a
            onclick="jQuery('.navbar.navbar-top').removeClass('state-search');" href="#"
            class="btn btn-link visible-xs"> <i class="fa fa-times"></i> </a>
          <div id="cd-login"> <a id="cd-login" href="https://mi.argentina.gob.ar" class="btn btn-link hidden-xs"
              aria-label="Ingresar a Mi Argentina"> <i class="icono-arg-mi-argentina"></i>Mi Argentina</a></div>
        </ul>
      </div>
    </div>
  </nav>

</header>


<script type="text/javascript">

  var busqueda = document.getElementById('buscar');
  var buscar = document.getElementById('buscar-btn');
  buscar.onclick = function () {
    var buscado = busqueda.value;
    location.href = "http://www.argentina.gob.ar/buscar/" + buscado;
  };
  
  //PONCHO LABS
  var url_string = window.location.href;
  var url = new URL(url_string);
  var lab = url.searchParams.get("lab");
  
  
  if(lab == ""){
    $("head").append('<link href="/proyectos/argentina/pruebas/poncho_lab.css" rel="stylesheet">');
  }
</script>

    <main role="main">
      <section class="jumbotron" style="background-image: url('https://www.argentina.gob.ar/sites/default/files/styles/jumbotron/public/cielo_lupa-oa.png?itok=2RjotmqT');">
  <div class="jumbotron_bar">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <ol class="breadcrumb pull-left">
            <li><a href="">Argentina</a></li>
            <li><a href="">Oficina Anticorrupción</a></li>
            <li class="active"><span> Registro de obsequios y viajes</span></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <div class="jumbotron_body">
    <div class="container">
      <div class="row">
        <div class="col-md-8 col-md-offset-2 text-center">
          <h2>Registro de obsequios y viajes</h2>
          <p>Consultá los obsequios y viajes que reciben y realizan los funcionarios públicos.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="overlay"></div>
</section>

<section>
  <div class="container">


<div class="alert alert-warning" role="alert">
   <div class="media">
      <div class="media-body">
         <h5><strong></strong></h5>
         <p class="margin-0"></p>
         <p>Los obsequios y viajes financiados por terceros contenidos en este registro corresponden al período posterior al 16 de febrero de 2017, fecha de entrada en vigencia del Decreto 1179/16.<br>- <a href="/consultar-sobre-regimen-de-obsequios-funcionarios-publicos">¿Qué obsequios se pueden recibir y cuándo deben incorporarse al patrimonio del Estado?</a><br>- <a href="/registrar-obsequios-y-viajes-financiados-por-terceros">¿Cómo registrar un obsequio o viaje?</a><br>- El valor de los módulos es el establecido por el Artículo 28 del <a href="/normativa/nacional/decreto-1030-2016-265506">Decreto 1030/16</a></p>
         <p></p>
      </div>
   </div>
</div>


<h2>Buscar</h2>


<ul class="nav nav-tabs vertical-tabs-list">
   <li class="vertical-tab-button first active selected" tabindex="-1">
      <a href="obsequios-v4.html">
         <span>Obsequios</span>
         <span id="active-vertical-tab" class="element-invisible">(solapa activa)</span>
      </a>
   </li>
   <li class="vertical-tab-button last" tabindex="-1">
      <a href="viajes-v4.html">
         <span>Viajes financiados por terceros</span>
      </a>
   </li>
</ul>


<link href="https://www.argentina.gob.ar/sites/default/files/ponchotable/ponchotable-1.1.css" rel="stylesheet" />
</p>
<section>
   <div class="col-sm-4" id="ponchoTableFiltroCont" style="display:none">
      <div class="form-group">
         <label for="ponchoTableFiltro" id="tituloFiltro">Filtro</label> 
         <select class="form-control" id="ponchoTableFiltro" name="ponchoTableFiltro">
            <option value="">Todos</option>
         </select>
      </div>
   </div>
   <div class="col-sm-8">
      <div class="form-group"><label for="ponchoTableSearch">Buscá por palabra clave</label> <input class="form-control" id="ponchoTableSearch" type="text" /></div>
   </div>

   <div class="col-sm-4">
      <div class="form-group"><label for="ponchoTableSearch">Buscá por funcionario</label> 
         <input class="form-control" id="" type="text" />
      </div>
   </div>   
   <div class="col-md-12 m-b-4">
      <table class="table tabla-condensed table-striped" id="ponchoTable">
         <caption>&nbsp;</caption>
         <thead>
            <tr></tr>
         </thead>
         <tbody></tbody>
      </table>
   </div>
</section>
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script><script src="https://www.argentina.gob.ar/sites/default/files/ponchotable/showdown.js"></script><script src="https://www.argentina.gob.ar/sites/default/files/ponchotable/datatables.min.js"></script>

  </div>
</section>



<script>
 
//#####################################################################
//####################### PONCHO TABLE #################################
//#####################################################################

  function ponchoTable(opt){
    var listado = [];
    var filteredTitle = [];
    var filteredTitleGsx = [];
    var filtro = [];
    var filtroColumna;
    var titulos = '';
    var th = [];
    var lista = '';      
    var centeredContent ='';
    if ( jQuery.fn.DataTable.isDataTable('#ponchoTable') ) {
      jQuery('#ponchoTable').DataTable().destroy();
    }

    //UNIQUE
    function filtrarUnicos(array){
      return array.filter(function(el, index, arr) {
          return index === arr.indexOf(el);
      });
    }      

    jQuery.getJSON('https://spreadsheets.google.com/feeds/list/'+opt.idSpread+'/'+opt.hojaNumero+'/public/values?alt=json',

      function(data) {
          listado = data['feed']['entry'];

          //TITULOS
          jQuery.each(Object.keys(listado[0]), function(index, key) {
              if (key.substr(0, 4) == 'gsx$') {
                  filteredTitle.push(listado[0][key]["$t"]);
                  filteredTitleGsx.push(key);
                  titulos += '<th>' + listado[0][key]["$t"] + '</th>';
                  th.push(listado[0][key]["$t"]);
              }
          })

          //Caption de la tabla
          jQuery("#ponchoTable caption").html(opt.tituloTabla);

          //Agregar titulos al thead de la tabla
          jQuery('#ponchoTable thead tr').empty();
          jQuery('#ponchoTable thead tr').append(titulos);

          //CONTENIDO FILAS
          jQuery.each(listado, function(row, value) {
              
              if(row > 0){
              lista += '<tr>';
                jQuery.each(filteredTitleGsx, function(index, title) {
                  var tdEmpty = '';
                    if (title.substr(0, 4) == 'gsx$') {
                       
                        filas = listado[row][filteredTitleGsx[index]].$t;

                        //Guardar tÃ­tulo de referencia de cada fila
                        if(title == filteredTitleGsx[0]){
                            labelBtn = filas;
                          }
                        
                        //Detectar si es botÃ³n
                        if(title.includes("btn-") && filas != "" ){
                          nameBtn = title.substr(8, title.length-8).replace("-"," ");
                          filas = '<a aria-label="' + nameBtn + " " + labelBtn + '" class="btn btn-primary btn-sm margin-btn" target="_blank" href="'+filas+'">'+nameBtn+'</a>'
                        }

/*                        //Detectar si es filtro
                        if(title.includes("filtro-") && filas != ""){
                          filtroColumna = index;
                          nameFiltro = title.substr(11, title.length-11).replace("-"," ");
                          jQuery("#tituloFiltro").html(nameFiltro);
                          filtro.push(filas);
                        }*/

                        //Detectar si es fecha
                        if(title.includes("fecha-") && filas != ""){
                          var dteSplit = filas.split("/");
                          var yearh = dteSplit[2];
                          var month = dteSplit[1];
                          var day = dteSplit[0];
                          var finalDate = yearh+"-"+month+"-"+day;
                          filas = '<span style="display:none;">'+finalDate+'</span>'+filas;
                        }

                        //Ocultar filas vacias en mobile
                        if(filas == ''){
                          tdEmpty = 'hidden-xs';
                        }

                        //Aplicar markdown a todas las filas
                        var converter = new showdown.Converter(),
                        filas = converter.makeHtml(filas);

                        lista += '<td class="'+ tdEmpty + '" data-title="'+ th[index] +'">' + filas + '</td>';

                    }
                })
              lista += '</tr>';
              }
          })

          //Agregar filtro
          jQuery.each(filtrarUnicos(filtro), function(index, val) {
             jQuery("#ponchoTableFiltro").append("<option>"+val+"</option>")
          });
         

          //Agregar contenido al body de la Tabla
          jQuery('#ponchoTable tbody').empty();
          jQuery('#ponchoTable tbody').append(lista);

          initDataTable();
      }
  )

  function initDataTable() {


      function removeAccents(data) {
        return data
          .replace(/Î­/g, 'Îµ')
          .replace(/[ÏÏ‹Î°]/g, 'Ï…')
          .replace(/ÏŒ/g, 'Î¿')
          .replace(/ÏŽ/g, 'Ï‰')
          .replace(/Î¬/g, 'Î±')
          .replace(/[Î¯ÏŠÎ]/g, 'Î¹')
          .replace(/Î®/g, 'Î·')
          .replace(/\n/g, ' ')
          .replace(/[Ã¡Ã]/g, 'a')
          .replace(/[Ã©Ã‰]/g, 'e')
          .replace(/[Ã­Ã]/g, 'i')
          .replace(/[Ã³Ã“]/g, 'o')
          .replace(/[ÃºÃš]/g, 'u')
          .replace(/Ãª/g, 'e')
          .replace(/Ã®/g, 'i')
          .replace(/Ã´/g, 'o')
          .replace(/Ã¨/g, 'e')
          .replace(/Ã¯/g, 'i')
          .replace(/Ã¼/g, 'u')
          .replace(/Ã£/g, 'a')
          .replace(/Ãµ/g, 'o')
          .replace(/Ã§/g, 'c')
          .replace(/Ã¬/g, 'i');
      }



      var searchType = jQuery.fn.DataTable.ext.type.search;
      console.log(jQuery.fn.DataTable.ext.type.search);
      searchType.string = function (data) {
        return !data ?
          '' :
          typeof data === 'string' ?
            removeAccents(data) :
            data;
      };

      searchType.html = function (data) {
        return !data ?
          '' :
          typeof data === 'string' ?
            removeAccents(data.replace(/<.*?>/g, '')) :
            data;
      };




      var tabla = jQuery("#ponchoTable").DataTable({
          "lengthChange": false,
          "autoWidth" : false,
          "ordering" : opt.orden,
          "order": [[ opt.ordenColumna-1, opt.ordenTipo ]],
          "dom": "<'row'<'col-sm-6'l><'col-sm-6'f>>" +
                 "<'row'<'col-sm-12'i>>" +
                 "<'row'<'col-sm-12'tr>>" +
                 "<'row'<'col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8'p>>",
           "language": {
              "sProcessing": "Procesando...",
              "sLengthMenu": "Mostrar _MENU_ registros",
              "sZeroRecords": "No se encontraron resultados",
              "sEmptyTable": "NingÃºn dato disponible en esta tabla",
              "sInfo": "_TOTAL_ resultados",
              "sInfoEmpty": "No hay resultados",
              //"sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
              "sInfoFiltered": "",
              "sInfoPostFix": "",
              "sSearch": "Buscar:",
              "sUrl": "",
              "sInfoThousands": ",",
              "sLoadingRecords": "Cargando...",

              "oPaginate": {
                  "sFirst": "<<",
                  "sLast": ">>",
                  "sNext": ">",
                  "sPrevious": "<"
              },
              "oAria": {
                  "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                  "sSortDescending": ": Activar para ordenar la columna de manera descendente",
                  "paginate": {
                      "first": 'Ir a la primera pÃ¡gina',
                      "previous": 'Ir a la pÃ¡gina anterior',
                      "next": 'Ir a la pÃ¡gina siguiente',
                      "last": 'Ir a la Ãºltima pÃ¡gina'
                  }
              }
          }
      });


      jQuery(document).ready(function () {
        // Remove accented character from search input as well
        jQuery('#ponchoTableSearch').keyup(function () {
          tabla
            .search(
            jQuery.fn.DataTable.ext.type.search.string(this.value)
            )
            .draw()
        });
      });


      //BUSCADOR
      jQuery("#ponchoTable_filter").parent().parent().remove();

      //FILTRO PERSONALIZADO
      if(jQuery('#ponchoTableFiltro option').length > 1){
        jQuery('#ponchoTableFiltroCont').show();
      }
      jQuery('#ponchoTableFiltro').on('change', function() {
        var filtro = jQuery(this).val();
          if(filtro != ""){
            tabla.column(filtroColumna).every( function () {
                var that = this;
                    that
                        .search(jQuery.fn.DataTable.ext.type.search.string(filtro))
                        .draw();
            }); 
          }
          else{
              tabla.search( '' ).columns().search( '' ).draw();
          }

      });

  }
}






















 (function($) {
 
 var ponchoTableOpciones = {
 //
 // COMPLETAR ESTO
 //
 "idSpread": "1HBsO0dbzfGiKu_6g860WZqqO13jIFEm-dA3dOEDEbmQ",
 "hojaNumero": 1,
 "tituloTabla": "Obsequios y viajes",
 "ordenColumna": 1,
 "ordenTipo": "asc",
 //
 // HASTA ACA
 //
 };
 ponchoTable(ponchoTableOpciones);
 })(jQuery);

</script>

    </main>
    
<footer class="main-footer">
    <div class="container">
        <section>
            <div class="row">
                <div class="col-sm-6 col-sm-12">
                    <section class="block block-block clearfix"> <img class="image-responsive"
                            src="http://argob.github.io/poncho/plantillas/paginas-de-argentina/img/argentinagob.svg"
                            alt="Argentina.gob.ar - Presidencia de la Nación">
                        <p class="text-muted small m-b-2"> <a
                                href="https://creativecommons.org/licenses/by/4.0/deed.es" target="_blank">Los
                                contenidos de Argentina.gob.ar están licenciados bajo Creative Commons Atribución 4.0 Internacional</a></p>
                    </section>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="region region-footer2">
                        <section id="block-menu-menu-footer-2" class="block block-menu clearfix">
                            <ul class="menu ">
                                <li class="first leaf"><a href="/servicios">Trámites y servicios</a></li>
                                <li class="leaf"><a href="https://www.argentina.gob.ar/turnos">Turnos</a></li>
                                <li class="leaf"><a href="/organismos">Organismos del Estado</a></li>
                                <li class="leaf"><a href="http://mapadelestado.jefatura.gob.ar/">Mapa del Estado</a>
                                </li>
                                <li class="last leaf"><a href="/normativa">Leyes argentinas</a></li>
                            </ul>
                        </section>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="region region-footer3">
                        <section id="block-menu-menu-footer-3" class="block block-menu clearfix">
                            <ul class="menu">
                                <li class="first leaf"><a href="/acerca">Acerca de este sitio</a></li>
                                <li class="leaf"><a href="/terminos-y-condiciones">Términos y condiciones</a></li>
                                <li class="last leaf"><a href="/ayuda">Ayuda</a></li>
                            </ul>
                        </section>
                    </div>
                </div>
            </div>
        </section>
    </div>
</footer>

    
  </body>
</html>
