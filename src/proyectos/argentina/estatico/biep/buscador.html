---
layout: argentina
---
    <style>
      
      
      @media screen and (max-width: 767px){
       
        td{
          white-space: unset!important;
        }
        h5{
          font-size: 16px;
        }
        
      }
    </style>


      
      <div id="listadoAgentes">
        <div class="row">
          <div>
            <div class="col-md-6">
              <div class="form-group">
                <label for=""><strong>Marco Legal</strong></label>
                <select id="marco" class="form-control">
                  <option data-marco="todos" value="todos">Todos</option>
                </select>
              </div>
            </div>
            <div class="col-md-6">    
              <div class="form-group">
                <label for=""> <strong>Buscá por definición</strong></label>
                <input class="form-control search" id="agencia" placeholder="">
              </div>
            </div>
           
            <div class="table-responsive col-md-12">
              <table class="table table-spaced table-hover">
                <thead>
                  <tr>
                    <th>Escalafón</th>
                    <th>Definición</th>
                    <th>Marco legal</th>
                    <th style="width: 160px;">Más información</th>
                    
                  </tr>
                </thead> 
                <tbody class="list" id="show-data">
                </tbody>
              </table>
              <nav class="text-center">
                <ul class="pagination"></ul>
              </nav>  
            </div>  


          </div>
        </div>
      </div>

<script src="https://www.argentina.gob.ar/profiles/argentinagobar/themes/argentinagobar/argentinagobar_theme/js/listjs/list.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/list.pagination.js/0.1.1/list.pagination.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


<script type="text/javascript">

(function($) {
$(document).ready(function () {
    var marcoLegal = "todos";
    var listadoAgentes = "";
    var enlace = '';
    var grupoDemarco = "";

    jQuery.getJSON(
    'https://spreadsheets.google.com/feeds/list/1xkBsNfZxrJbiUTHdRUpKC4qb7L99viwzCxRshVSgCtA/1/public/values?alt=json',
    function (data) {

          listadoAgentes = data['feed']['entry'];
          
          filtrarContenido(marcoLegal);

      });


          function filtrarContenido(marcoLegal){

          var lista = '';

          

          $.each(listadoAgentes, function( key, item ) {
          enlace = item.gsx$enlace.$t;
          if((marcoLegal == "todos") || (marcoLegal == item.gsx$marcolegal.$t)){
            if(enlace == ''){
              enlace = '';
            }else{
              enlace ='<a href="' + enlace + '" class="btn btn-sm btn-primary">Ver más</a>'
            }
                lista += '<tr>';
                /*el class es para identificar los filtros en el list.js (es para el buscador y paginado)*/
                lista += ' <td class=""><p>' + item.gsx$escalafon.$t + '</p></td>';


                lista += '<td class="definicion escalafon"><p>' + item.gsx$definicion.$t + '</p></td>';

                lista += '<td><p>' + item.gsx$marcolegal.$t + '</p></td>';

                lista += '<td><p class="text-center">' + enlace +'</p></td>';
                
                lista += '</tr>';
            }

           
            


          });

          



          $('#show-data').empty();
          $('#show-data').append(lista);

     


          var listOptions = {
            valueNames: ['definicion', 'escalafon'],
            page: 10,
            plugins: [ ListPagination({}) ]
            
           };

            var listaNueva = new List('listadoAgentes', listOptions); 

            

             

          $('.search').on("keyup", function(){
            var searchClass = $(this).val();
            listaNueva.search(searchClass);//propio de List.js
           });
        }


      jQuery.getJSON(
    'https://spreadsheets.google.com/feeds/list/1xkBsNfZxrJbiUTHdRUpKC4qb7L99viwzCxRshVSgCtA/2/public/values?alt=json',
    function (data) {

          grupoDemarco = data['feed']['entry'];
          
          $.each(grupoDemarco, function( key, i ) {
          marcoLegal = i['gsx$marcolegal']['$t'];
          $('#marco').append('<option data-marco="'+ marcoLegal +'" value="'+ marcoLegal +'">'+ marcoLegal +'</option>')

          });
        

      });

     
  




   
    $("#marco").on("change", function() {
       
       marcoLegal = $(document).find("#marco option:selected").data('marco');

      filtrarContenido(marcoLegal);
    });

 
 
      

});
})(jQuery);
 
  
</script>


