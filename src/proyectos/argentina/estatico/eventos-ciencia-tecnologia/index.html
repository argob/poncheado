---
layout: argentina
---

<div class="container">

<div class="row">
   <div class="col-sm-6">
      <div class="panel-pane pane-page-breadcrumb">
         <div class="pane-content">
            <ol class="breadcrumb pull-left">
               <li><a href="/">Inicio</a></li>
               <li><a href="https://www.argentina.gob.ar/ciencia">Ministerio de Ciencia y Tecnología</a></li>
               <li class="active">Eventos</li>
            </ol>
         </div>
      </div>
   </div>
   <div class="col-sm-6"></div>
</div>

<h1>Eventos</h1>	

<div id="eventos_destacados">
<div class="row panels-row m-t-2">
	<div class="col-sm-12">
		<h4>Destacados</h4>
	</div>
	
	<div class="hidden">
	   <div class="col-sm-4" id="destacado_clon">
	      <a class="panel panel-default" href="" target="_blank">
	         <div class="panel-body">
	            <div class="media">
	               <div class="media-body">
	                  <h3></h3>
	               </div>
	            </div>
	         </div>
	      </a>
	   </div>
	</div>

	<div class="col-sm-12">
   		<div id="listaDestacados" class="row panels-row"></div>
    </div>


</div>
</div>

	<div id="eventos">
	<div class="row">
		<div class="col-sm-12">
			<h4>Lista de eventos</h4>
		</div>
	</div>
		<div class="row">
			<div class="col-md-3">    
		      <div class="form-group">
		        <label>Mes</label>
		        <select name="" class="form-control" id="selectorMes">
		        	<option value="01">Enero</option>
		        	<option value="02">Febrero</option>
		        	<option value="03">Marzo</option>
		        	<option value="04">Abril</option>
		        	<option value="05">Mayo</option>
		        	<option value="06">Junio</option>
		        	<option value="07">Julio</option>
		        	<option value="08">Agosto</option>
		        	<option value="09">Septiembre</option>
		        	<option value="10">Octubre</option>
		        	<option value="11">Noviembre</option>
		        	<option value="12">Diciembre</option>
		        </select>
		      </div>
		    </div>

		    <div class="col-md-7">    
		      <div class="form-group">
		        <label>Buscá eventos</label>
		        <input class="form-control" placeholder="" id="text_titulo">
		      </div>
		    </div>
				
			<div class="col-sm-2">
			  <button class="btn btn-block btn-primary m-t-2" data-sort="name" id="buscarBtn">
			    Buscar
			  </button>
			</div>

			</div>

		<table class="table" id="resultados">
			<thead>
				<th width="200px" class="text-center">Fecha</th>
				<th>Evento</th>
			</thead>
			<tbody class="list"></tbody>
		</table>
		 <div class="text-center"><div class="pagination"></div></div>

	</div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.0/moment-with-locales.min.js"></script>

<script>
	
$(document).ready(function () {

	key = "1sy9SE1BU8UeXvSb8Z68mgSzpOB8YMcQXNRxT3Lf95mc";
	$.getJSON('https://spreadsheets.google.com/feeds/list/'+key+'/1/public/values?alt=json', function (data) {
		window.lista = data.feed.entry;
	})

function buscar(){


	//LIMPIAR
	$("#resultados tbody").html("");
	$("#listaDestacados").html("");

	//LISTA DE EVENTOS
	$.each(lista,function(index,element){
		titulo = element["gsx$titulo"]["$t"];
		descripcion = element["gsx$descripcion"]["$t"];
		sitio_url = element["gsx$url"]["$t"];
		
		mes_seleccionado = $("#selectorMes").val();
		fecha_desde = moment(element["gsx$fechadesde"]["$t"], "DD/MM/YYYY").format("DD/MM/YYYY");
		fecha_hasta = moment(element["gsx$fechahasta"]["$t"], "DD/MM/YYYY").format("DD/MM/YYYY");

		mes_evento = moment(element["gsx$fechadesde"]["$t"], "DD/MM/YYYY").format('MM');
		
		//validacion pendiente
		/*if(mes_seleccionado.isBetween(fecha_desde, fecha_hasta)){
		} */


		hora_desde = element["gsx$horadesde"]["$t"];
		hora_hasta = element["gsx$horahasta"]["$t"];

		
		if(mes_seleccionado == mes_evento){
			$("#resultados tbody").append("<tr><td class='text-center'><i class='fa fa-2x text-muted fa-calendar-o m-t-2'></i><div class='m-t-2'><small>Desde "+fecha_desde+" al "+fecha_hasta+"</small></div></td><td class='eventoTitulo'><h6><a class='eventoURL' href='"+sitio_url+"' target='_blank'>"+titulo+"</a></h6><p>"+descripcion+"</p><p class='margin-0'><small><i class='fa fa-clock-o'></i> <strong>Horario:</strong> de "+hora_desde+" hasta "+hora_hasta+" hs</small></p></td></tr>");
		}

		if($("#resultados tbody tr").length < 1){
			console.warn("no hay resultados");
		}

		//EVENTOS DESTACADOS
		if(element["gsx$destacado"]["$t"] == "si"){
			var elemento = $("#destacado_clon").clone();
			$("#listaDestacados").append(elemento);
			
			elemento.find("h3").html(titulo);
			elemento.find("a").attr("href",sitio_url);
		}
})
	

	//lIST.JS
	var options = {
	    valueNames: [ 'eventoTitulo', 'eventoURL' ],
	    page: 5,
		pagination: true
	};
	var serviciosList = new List('eventos', options);


	var busqueda = $("#text_titulo").val();
	serviciosList.fuzzySearch(busqueda);	
}	
	


	//BUSQUEDA
	$("#buscarBtn").click(function(){
		buscar();
	})
	
	$("#text_titulo").keyup(function(e){
    if(e.keyCode == 13)
	    {
	        buscar();
	    }
	});


})

</script>

</body>
</html>

