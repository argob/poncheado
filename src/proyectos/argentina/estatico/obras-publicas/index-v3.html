---
layout: argentina
---
    <style>
      #map {
        height: 600px;
        width: 100%;
      }

      .item{
        height: 310px;
      }

      .pie{
        position: absolute;
        bottom: 55px;
        width: 90%;
      }

      .izq{
        height: 30px;
        padding-top: 6px;
      }

      .izq span{
        font-size: 13px;
        vertical-align: middle;
        height: 30px;
      }

    </style>

<section class="jumbotron" style="background-image: url('img/jt_obras.jpg');">
<div class="jumbotron_bar">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <ol class="breadcrumb pull-left">
            <li><a href="/">Inicio</a></li>
            <li class="active">Ministerio del interior, obras públicas y vivienda</li>
          </ol>                    
        </div>
      </div>
    </div>
  </div>
  <div class="jumbotron_body">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2 text-center">
          <h2>Obras del Ministerio del Interior</h2>
          <p>Conocé las obras que mejoran la calidad de vida de todos los argentinos.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="overlay"></div>
</section>

<div class="container">
  <div class="row">
    <div class="col-xs-12 text-center m-t-3">

<!--
            <form name="cambiaMuestra">
              <div class="radio btn-group btn-group-justified" data-toggle="buttons">
                <label for="mapa" class="btn btn-default active">
                  <input id="mapa" type="radio" name="mostrar" value="mapa" checked>
                  Mapa de obras
                </label>
                <label for="buscador" class="btn btn-default">
                  <input id="buscador" type="radio" name="mostrar" value="buscador">
                  Listado de obras
                </label>
              </div> 
              </form>
-->


        <div class="btn-group" role="group">
          <button id="mapa" type="button" class="botones btn btn-primary" onclick="cambiaAlistado()">Mapa de Obras</button>
          <button id="buscador" type="button" class="botones btn btn-default" onclick="cambiaAmapa()">Listado de Obras</button>
        </div>




      <!-- <a id="botonCambia" class="btn btn-primary btn-md" href="#" onclick="cambiaDisplay()">Buscador de obras</a> -->
    </div>
  </div>
</div>

<div class="container">
  <section id="mapaObras">
    <div class="row">
      
      <div class="col-md-12">
          <!-- <h2 class="text-center m-b-2 h1">Mapa de obras</h2> -->
          <div id="map" class="m-b-3"></div>
          
      </div>

      <div class="col-md-12 m-b-2">
        <div class="row">

          <div class="col-xs-6 col-md-3 col-md-offset-2">
            <p><i class="icono-arg-habitat text-success"></i> Hábitat</p>
          </div>

          <div class="col-xs-6 col-md-3">
            <p><i class="icono-arg-urbanizacion text-danger"></i> Renovación urbana</p>
          </div>

          <div class="col-xs-6 col-md-3">
            <p><i class="icono-arg-tuberias text-primary"></i> Cloacas</p>
          </div>

          <div class="col-xs-6 col-md-3 col-md-offset-2">
            <p><i class="icono-arg-canilla text-primary"></i> Agua potable</p>
          </div>

          <div class="col-xs-6 col-md-3">
            <p><i class="icono-arg-vivienda text-danger text-success"></i> Vivienda</p>
          </div>

          <div class="col-xs-6 col-md-3">
            <p><i class="icono-arg-cultura text-success text-success"></i> Cultura</p>
          </div>

          <div class="col-xs-6 col-md-3 col-md-offset-2">
            <p><i class="icono-arg-educacion text-success text-success"></i> Educación</p>
          </div>

          <div class="col-xs-6 col-md-3">
            <p><i class="fa fa-hospital-o text-danger text-success"></i> Salud</p>
          </div>

          <div class="col-xs-6 col-md-3">
            <p><i class="icono-arg-agua text-primary text-success"></i> Obras para controlar inundaciones</p>
          </div>

          <div class="col-xs-6 col-md-3 col-md-offset-2">
            <p><i class="icono-arg-espacio-publico text-success text-success"></i> Espacio público</p>
          </div>

          <div class="col-xs-6 col-md-3">
            <p><i class="icono-arg-institucion text-success text-success"></i> Patrimonio</p>
          </div>

        </div>
      </div>

    </div>
  </section>
  <section id="buscadorObras" class="hidden">
    <!-- <h2 class="text-center m-b-2 h1">Buscador de obras</h2> -->
    <div id="obras">
      <div class="row">
        <div class="col-md-6">    
          <div class="form-group">
            <label>Buscá por obra</label>
            <input class="form-control search" placeholder="Buscá obras por nombre o descripcion">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="">Provincia</label>
            <select id="tipo-provincia" class="form-control">
              <option value="Todas">Todas</option>
              <option value="Buenos Aires">Buenos Aires</option>
              <option value="Capital Federal">Capital Federal</option>
              <option value="Catamarca">Catamarca</option>
              <option value="Chaco">Chaco</option>
              <option value="Chubut">Chubut</option>
              <option value="Córdoba">Córdoba</option>
              <option value="Corrientes">Corrientes</option>
              <option value="Entre Ríos">Entre Ríos</option>
              <option value="Jujuy">Jujuy</option>
              <option value="Formosa">Formosa</option>
              <option value="La Pampa">La Pampa</option>
              <option value="La Rioja">La Rioja</option>
              <option value="Mendoza">Mendoza</option>
              <option value="Neuquén">Neuquén</option>
              <option value="Misiones">Misiones</option>
              <option value="Río Negro">Río Negro</option>
              <option value="Salta">Salta</option>
              <option value="San Juan">San Juan</option>
              <option value="San Luis">San Luis</option>
              <option value="Santa Cruz">Santa Cruz</option>
              <option value="Santa Fe">Santa Fe</option>
              <option value="Santiago del Estero">Santiago del Estero</option>
              <option value="Tucumán">Tucumán</option>
              <option value="Tierra del Fuego">Tierra del Fuego</option>
              

            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label for="">Tipo de Obra</label>
            <select id="tipo-obra" class="form-control">
              <option value="Todas">Todas</option>
              <option value="Hábitat">Hábitat</option>
              <option value="Renovación Urbana">Renovación Urbana</option>
              <option value="Cloacas">Cloacas</option>
              <option value="Agua potable">Agua potable</option>
              <option value="Vivienda">Vivienda</option>
              <option value="Cultura">Cultura</option>
              <option value="Educación">Educación</option>
              <option value="Salud">Salud</option>
              <option value="Obras para controlar inundaciones">Obras para controlar inundaciones</option>
              <option value="Espacio Público">Espacio Público</option>
              <option value="Patrimonio">Patrimonio</option>
            </select>
          </div>
        </div>
      </div>
      <div class="row">
      </div>
      <div>
      <div class="list row panels-row m-y-3" data-render="tarjetas">
      </div>
      <nav class="text-center">
        <ul class="pagination"></ul>
      </nav>       
      </div>
    </div>
  </section> 
</div>


<div data-render="modales"></div> 

<div class="container">
 <div class="row">
   <div class="col-md-12">
     <div id="alerta" class="alert alert-warning col-md-4 no-result">
      <div class="media">
        <div class="media-left media-middle">
          <i class="fa fa-warning fa-fw fa-2x"></i>
        </div>
        <div class="media-body">
          <p>No hay resultados para mostrar</p>
        </div>
      </div>
    </div> 
   </div>
 </div>  
</div>

<!--
<script src="{{ "/node_modules/list.js/dist/list.min.js" | prepend: site.baseurl }}"></script>
<script src="{{ "/node_modules/moment/min/moment.min.js" | prepend: site.baseurl }}"></script>
<script src="{{ "/node_modules/moment/locale/es.js" | prepend: site.baseurl }}"></script>
-->

<script src="https://www.argentina.gob.ar/profiles/argentinagobar/themes/argentinagobar/argentinagobar_theme/js/listjs/list.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/list.pagination.js/0.1.1/list.pagination.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/es.js"></script>

<script>



  (function($){


    var templates = {
      tarjeta: `<div class="col-xs-12 col-sm-6 col-md-4 item">
    <a href="#obras-{index}" data-toggle="modal" class="panel panel-default">
        <div class="panel-body">
            <div class="media">
                <div class="media-left media-middle">
                    <span class="fa {icono} fa-2x fa-fw" aria-hidden="true"></span>
                </div>
                <div class="media-body media-middle">
                    <div class="text-muted">
                        <h4>{tipodeobra}</h4>
                    </div>
                </div>
                <h3 class="nombre-obra m-t-1">{titulo}</h3>
                <p class="text-muted descripcion-obra">{descripcion}</p>
            </div>
        </div>
    </a>
</div>`,

    tarjeta_destacado: `<div class="col-xs-12 col-sm-6 col-md-4 item">
    <a href="#obras-{index}" data-toggle="modal" class="panel panel-default">
        <div class="panel-body">
            <div class="media">
                <div class="media-left media-middle">
                    <span class="fa {icono} fa-2x fa-fw" aria-hidden="true"></span>
                </div>
                <div class="media-body media-middle">
                    <div class="text-muted">
                        <h4>{tipodeobra}</h4>
                    </div>
                </div>
                <h3 class="nombre-obra m-t-1">{titulo}</h3>
                <p class="text-muted descripcion-obra">{descripcion}</p>
                <div class="pie">
                <div class="izq">
                  <p>
                    <span class="label label-success">Obra destacada</span>
                  </p>
                </div>
                </div>
            </div>
        </div>
    </a>
</div>`,
      modal_n: `<div id="obras-{index}" class="modal fade" tabindex="-1" role="dialog"> 
                <div class="modal-dialog modal-lg">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span> </button> 
                      <h4 class="nombre-obra modal-title">{titulo}</h4>
                      <p class="text-muted descripcion-obra m-t-1">{descripcion}</p>
                      <div class="text-muted">
                        {provincia}
                        {localidad}
                        {beneficiarios}
                        {estado}
                      </div>
                    </div>
                  </div>
                </div>
              </div>`,
      modal_v: `<div id="obras-{index}" class="modal fade" tabindex="-1" role="dialog"> 
                <div class="modal-dialog modal-lg">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span> </button> 
                      <h4 class="nombre-obra modal-title">{titulo}</h4>
                      <p class="text-muted descripcion-obra m-t-1">{descripcion}</p>
                      <div class="text-muted">
                        {provincia}
                        {localidad}
                        {beneficiarios}
                        {estado}
                      </div>
                    </div>
                    <div class="modal-body">
                      <div class="embed-responsive embed-responsive-16by9">
                        
                      <iframe class="embed-responsive-item" src="{video}" frameborder="0" allowfullscreen></iframe>
                      </div>
                    </div>
                  </div>
                </div>
              </div>`,        
      modal_im: `<div id="obras-{index}" class="modal fade" tabindex="-1" role="dialog"> 
                <div class="modal-dialog modal-lg">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span> </button> 
                      <h4 class="nombre-obra modal-title">{titulo}</h4>
                      <p class="text-muted descripcion-obra m-t-1">{descripcion}</p>
                      <div class="text-muted">
                        {provincia}
                        {localidad}
                        {beneficiarios}
                        {estado}
                      </div>
                    </div>
                    <div class="modal-body">
                      <div class="embed-responsive embed-responsive-16by9">
                        
                      <img src="{imagen}" alt="imagen de obra pública"/>
                      </div>
                    </div>
                  </div>
                </div>
              </div>`,
    }

    window.obras = [];
    window.locations = [];
    window.configobras = 'Todas';
    window.configprovincia = 'Todas';

    $.ajax({
      url: 'https://interfaces.argentina.gob.ar/api/public/v1.0/inap/1rO0sGwj7Z9PA_Kg6rmBsxjLmUhlXBbYQnxdydBNsUiI/1',
      data: 'json',
      success: function(response){



        $.each(response.feed.entry, function(index, row){

          
            obras.push({
              index: index,
              tipodeobra: row.gsx$tipodeobra.$t,
              titulo: row.gsx$titulo.$t,
              icono: row.gsx$icono.$t,
              descripcion: row.gsx$descripcion.$t,
              video: row.gsx$video.$t,
              imagen: row.gsx$imagen.$t,
              provincia: row.gsx$provincia.$t,
              localidad: row.gsx$localidad.$t,
              beneficiarios: row.gsx$beneficiarios.$t,
              destacado: row.gsx$destacado.$t,
              estado: row.gsx$estado.$t
            });

            locations.push({
              index: index,
              latitud: row.gsx$latitud.$t,
              longitud: row.gsx$longitud.$t,
              marker: row.gsx$marker.$t,
              markerd: row.gsx$markerd.$t,
              destacado: row.gsx$destacado.$t
            });



        })

        render.tarjetas();


      }
    });


    var render = {
      tarjetas: function( ){

        $('[data-render=tarjetas]').html('');
        $('[data-render=modales]').html('');

       var html_tarjetas = "";


        $.each(obras, function(index, obras){


          if( (configobras == 'Todas' || obras.tipodeobra.indexOf(configobras) > -1) && (configprovincia == 'Todas' || obras.provincia.indexOf(configprovincia) > -1 ) ) {            

            if(obras.destacado){
              html_tarjetas = templates.tarjeta_destacado;
            }else{
              html_tarjetas = templates.tarjeta;
            }


            if (obras.provincia == "" || obras.provincia == "-" ){
              var provincia = '';
            } else {
              var provincia = '<div class="media m-t-1"><b>Provincia:</b>' + ' <span>' + obras.provincia + '</span></div>';
            }

            if (obras.localidad == "" || obras.localidad == "-" ){
              var localidad = '';
            } else {
              var localidad = '<div class="media m-t-1"><b>Localidad:</b>' + ' <span>' + obras.localidad + '</span></div>';
            }

            if (obras.beneficiarios == "" || obras.beneficiarios == "-" ){
              var beneficiarios = '';
            } else {
              var beneficiarios = '<div class="media m-t-1"><b>Beneficiarios:</b>' + ' <span>' + obras.beneficiarios + '</span></div>';
            }

            if (obras.estado == "" || obras.estado == "-" ){
              var estado = '';
            } else {
              var estado = '<div class="media m-t-1"><b>Estado:</b>' + ' <span>' + obras.estado + '</span></div>';
            }                                    
            
            var modal_n = templates.modal_n;
            var modal_v = templates.modal_v;
            var modal_im = templates.modal_im;

            html_tarjetas = html_tarjetas.replace(/{titulo}/gi, obras.titulo)
            .replace(/{index}/gi, index)
            .replace(/{tipodeobra}/gi, obras.tipodeobra)
            .replace(/{descripcion}/gi, obras.descripcion.substring(0, 100) + '...')
            .replace(/{icono}/gi, obras.icono),

            modal_n = modal_n.replace(/{index}/gi, index)
            .replace(/{titulo}/gi, obras.titulo)
            .replace(/{descripcion}/gi, obras.descripcion)
            .replace(/{provincia}/gi, provincia)
            .replace(/{localidad}/gi, localidad)
            .replace(/{beneficiarios}/gi, beneficiarios)
            .replace(/{estado}/gi, estado);

            modal_v = modal_v.replace(/{index}/gi, index)
            .replace(/{titulo}/gi, obras.titulo)
            .replace(/{descripcion}/gi, obras.descripcion)
            .replace(/{video}/gi, obras.video)
            .replace(/{imagen}/gi, obras.imagen)
            .replace(/{provincia}/gi, provincia)
            .replace(/{localidad}/gi, localidad)
            .replace(/{beneficiarios}/gi, beneficiarios)
            .replace(/{estado}/gi, estado);

            modal_im = modal_im.replace(/{index}/gi, index)
            .replace(/{titulo}/gi, obras.titulo)
            .replace(/{descripcion}/gi, obras.descripcion)
            .replace(/{video}/gi, obras.video)
            .replace(/{imagen}/gi, obras.imagen)
            .replace(/{provincia}/gi, provincia)
            .replace(/{localidad}/gi, localidad)
            .replace(/{beneficiarios}/gi, beneficiarios)
            .replace(/{estado}/gi, estado);




            $('[data-render=tarjetas]').append( html_tarjetas );
     



            if(obras.video){
              $('[data-render=modales]').append( modal_v ); 
            }else if(obras.imagen){
              $('[data-render=modales]').append( modal_im ); 
            }else{
              $('[data-render=modales]').append( modal_n ); 
            }




          }

          if (html_tarjetas == "") {
                $('.no-result').show();
                $('.list').hide();//se esconde para sacar marginado cuando no hay resultados
          }
          else {
                $('.no-result').hide();
                $('.list').show();
          } 


        });

        var listOptions = { 
          valueNames: [ 'nombre-obra', 'descripcion-obra' ], 
          page: 9,
          plugins: [ ListPagination({}) ]
        };

        var obrasList = new List('obras', listOptions);

        $('.no-result').hide();

        obrasList.on('updated', function(list) {
          if (list.matchingItems.length > 0) {
            $('.no-result').hide();
            $('.list').show();
          } else {
            $('.no-result').show();
            $('.list').hide();//se esconde para sacar marginado cuando no hay resultados
          }
        })         

      }   

    }

    $("#tipo-provincia").on("change", function() {
      configprovincia = $( "#tipo-provincia option:selected" ).val();
      render.tarjetas();
    });

    $("#tipo-obra").on("change", function() {
      configobras = $( "#tipo-obra option:selected" ).val();
      render.tarjetas();
    });



  })(jQuery);


  // MAPA


      var map;
      var marker = [];
      var image;

      function initMap() {



        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: new google.maps.LatLng(-40.1698743, -62.9550729),
          styles: [
  {
    featureType: "landscape.man_made",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "landscape.natural",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "landscape.natural.landcover",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "landscape.natural.terrain",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi",
    elementType: "labels.text",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi.attraction",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi.business",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi.government",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi.medical",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi.park",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi.place_of_worship",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi.school",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "poi.sports_complex",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "road",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "road",
    elementType: "labels.icon",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "road.arterial",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "road.highway",
  stylers: [
      {
        visibility: "off"
      }
    ]
  },
  {
    featureType: "road.local",
  stylers: [
      {
        visibility: "on"
      }
    ]
  },
  {
    featureType: "transit",
  stylers: [
      {
        visibility: "off"
      }
    ]
  }
]
        });

        google.maps.event.addListenerOnce(map, 'idle', function(){

          for (var i = 0; i < locations.length; i++) {


            if (locations[i]["destacado"] == "X"){
              image = "img/markers/" + locations[i]["markerd"];
            }else{
              image = "img/markers/" + locations[i]["marker"];
            }



            marker[i] = new google.maps.Marker({
              position: new google.maps.LatLng(locations[i]["latitud"], locations[i]["longitud"]),
              map: map,
              icon: image
            }, false);
          }


          for (let x = 0; x < marker.length; x++) {

            marker[x].addListener('click', function() {
              $("#obras-" + x).modal('show');
            }, false);
          }

      });

      }





  /*
  
    // DOM botón

  function cambiaDisplay(){

    var botonCambia = document.getElementById("botonCambia");
    var mapaObras = document.getElementById("mapaObras");
    var buscadorObras = document.getElementById("buscadorObras");

    event.preventDefault()

    if (botonCambia.innerHTML == "Buscador de obras"){
      botonCambia.innerHTML = "Mapa de Obras";
      mapaObras.classList.add('hidden');
      buscadorObras.classList.remove('hidden');
    }else{
      botonCambia.innerHTML = "Buscador de obras";
      buscadorObras.classList.add('hidden');
      mapaObras.classList.remove('hidden');
    }
}

*/

  /*
  // DOM radio

  var radios = document.cambiaMuestra.mostrar;
    var prev = null;
    for(var i = 0; i < radios.length; i++) {
        radios[i].onclick = function() {
            
            if(radios[0].checked) {
              buscadorObras.classList.add('hidden');
              mapaObras.classList.remove('hidden');
            }else{
              mapaObras.classList.add('hidden');
              buscadorObras.classList.remove('hidden');
            }

        };
    }

    */


  // DOM botones

  var botones = document.getElementsByClassName("botones");
  var mapaObras = document.getElementById("mapaObras");
  var buscadorObras = document.getElementById("buscadorObras");

  function cambiaAlistado(){
    event.preventDefault();
    buscadorObras.classList.add('hidden');
    mapaObras.classList.remove('hidden');
    botones[0].classList.add('btn-primary');
    botones[0].classList.remove('btn-default');
    botones[1].classList.remove('btn-primary');
    botones[1].classList.add('btn-default');
  }

  function cambiaAmapa(){
    event.preventDefault();
    buscadorObras.classList.remove('hidden');
    mapaObras.classList.add('hidden');
    botones[1].classList.add('btn-primary');
    botones[1].classList.remove('btn-default');
    botones[0].classList.remove('btn-primary');
    botones[0].classList.add('btn-default');
  }

 


     
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAnjrx-mfaup3A-TQS4DyL0ngfxEqDDBqc&signed_in=true&region=AR&callback=initMap" 
    async defer></script>

    

