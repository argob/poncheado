---
layout: argentina
---
    <style>
      #map {
        height: 600px;
        width: 100%;
      }

      .item{
        height: 310px;
      }

      .pie{
        position: absolute;
        bottom: 55px;
        width: 90%;
      }

      .izq{
        height: 30px;
        padding-top: 6px;
      }

      .izq span{
        font-size: 13px;
        vertical-align: middle;
        height: 30px;
      }
      p{
        font-weight: 400;
      }
      .categoria-lf{
        text-transform: lowercase;
        font-size: 15px;
      }
      .categoria-lf::first-letter{

        text-transform: uppercase; 
      }
      
      

      .logo{
        max-width: 380px!important;
      }
    

      #ean .popover{
        top: 39px;
        left: -118px!important;
        display: block;
        width: 250px!important;
      }

      #ean{
        position: relative!important
      }

      #ean .popover .arrow{
          left: 0!important;
          right: 0!important;
          margin: 0 auto!important;
      }
      
      @media screen and (max-width: 767px){
       
        .descripcion, .proveedor, .ean{
          white-space: unset!important;
        }
        
      }
    </style>

 
   

      <div id="listadoCaidos" class="m-t-3 p-t-2">
        <div class="row">
          <div class="col-xs-12">
            <div class="col-md-4">
              <div class="form-group">
                <label for=""><strong>Cargo</strong></label>
                <select id="cargo" class="form-control">
                  <option data-cargo="todos" value="todos">Todos</option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="fechaFallecido col-sm-12">Buscá por fecha de fallecimiento</label>
                <input type="date" class="form-control" id="fecha" placeholder="dd/mm/aaaa" tabindex="" required="">
              </div>
            </div>
            <div class="col-md-4">    
              <div class="form-group">
                <label for=""> <strong>Buscá por Nombre o Cargo</strong></label>
                <input class="form-control search" placeholder="">
              </div>
            </div>
            <div class="table-responsive col-md-12">
              <table class="table table-spaced table-hover">
                <thead>
                  <tr>
                    <th>Cargo</th>
                    <th>Nombre Completo</th>
                    <th>Fecha de Fallecimiento</th>
                  </tr>
                </thead> 
                <tbody class="list" id="show-data">
                </tbody>
              </table>
              <nav class="text-center">
                <ul class="pagination"></ul>
              </nav>  
            </div>  


          </div>
        </div>
      </div>
 

<script src="https://www.argentina.gob.ar/profiles/argentinagobar/themes/argentinagobar/argentinagobar_theme/js/listjs/list.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/list.pagination.js/0.1.1/list.pagination.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>

<script type="text/javascript">

(function($) {
$(document).ready(function () {
    var cargo = "todos";
    var listadoCaidos = "";
    var grupoCargos = "";
    var fecha = "";

    jQuery.getJSON(
    'https://spreadsheets.google.com/feeds/list/15hVWl1QDP59fT3X5fE925cwOdxw1YIEyI4jhJVuh1Zw/1/public/values?alt=json',
    function (data) {

          listadoCaidos = data['feed']['entry'];
          filtrarContenido(cargo, fecha);

      });

          function filtrarContenido(cargo, fecha){

          var lista = '';

          $.each(listadoCaidos, function( key, item ) {

          if((cargo == "todos" || cargo == item.gsx$cargo.$t) && (fecha == "" || fecha == "Invalid date" || fecha == item.gsx$fecha.$t)){
                lista += '<tr>';
                /*el class es para identificar los filtros en el list.js (es para el buscador y paginado)*/
                lista += ' <td class="cargo"><p>' + item.gsx$cargo.$t + '</p></td>';
                lista += ' <td class="nombre"> <p>'+ item.gsx$nombre.$t + '</p></td>';
                lista += ' <td class="fecha"> <p>'+ item.gsx$fecha.$t +'</p></td>';
                lista += '</tr>';
            }


          });



          $('#show-data').empty();
          $('#show-data').append(lista);




          var listOptions = {
            valueNames: ['cargo','nombre'],
            page: 10,
            plugins: [ ListPagination({}) ]
            
           };

             var listaNueva = new List('listadoCaidos', listOptions); 

             

          $('.search').on("keyup", function(){
            var valorBuscado = $(".search").val();
            listaNueva.search(valorBuscado);//propio de List.js
           });


        }


    jQuery.getJSON(
    'https://spreadsheets.google.com/feeds/list/15hVWl1QDP59fT3X5fE925cwOdxw1YIEyI4jhJVuh1Zw/2/public/values?alt=json',
    function (data) {

          grupoCargos = data['feed']['entry'];
          $.each(grupoCargos, function(index, el) {
             var cargos = el['gsx$cargo']['$t'];
            $('#cargo').append('<option data-cargo="'+ cargos +'" value="'+ cargos +'">'+ cargos +'</option>')
          });

            
        });
        
         
           


   
    $("#cargo, #fecha").on("change", function() {
       
       cargo = $(document).find("#cargo option:selected").data('cargo');
       var date = $(document).find("#fecha").val();

       //libreria moment covertir formato
       fecha = moment(date).format('DD-MM-YYYY');
        console.log(fecha);
       filtrarContenido(cargo, fecha);
    });

     
      

});
})(jQuery);
 
  
</script>


