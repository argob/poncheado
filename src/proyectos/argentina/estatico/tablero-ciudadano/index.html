---
layout: argentina
---
<style type="text/css">
    .flex-panels{
        display: flex;
        text-align: center;
        flex-wrap: wrap;
        justify-content: center;
    }
    .flex-panels .col{
        margin-bottom: 30px;
        padding: 0 15px;
        flex: 0 0 100%;
        width: 100%;
        max-width: 300px;
    }
    .flex-panels .panel{
        height: 100%;
        display: flex;
        flex-direction: column;
        margin-bottom: 0;
    }
    .flex-panels .panel-footer{
        margin-top: auto;
    }
    .flex-panels .panel-body i.fa-2x{
        height: 50px;line-height: 50px;
    }
    .flex-panels .big{
        font-size: 50px;
    }
    .flex-panels .big small{
        font-size: 18px;
        color: rgba(112, 112, 112, .5);
    }
    .flex-panels .progress-bar{
        background-color: #707070;
    }
    .flex-panels .panel:focus .progress,
    .flex-panels .panel:hover .progress{
        background-color: rgba(255, 255, 255,.4);
    }
    .flex-panels .panel:focus .progress-bar,
    .flex-panels .panel:hover .progress-bar{
        background-color: #fff;
    }
    .flex-panels .panel:focus .big small,
    .flex-panels .panel:hover .big small{
        color: rgba(255, 255, 255,.4);
    }
    /* footer de paneles anchos */
    .inter-flex{
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        align-items: center;
        margin-left: -15px;
        margin-right: -15px;
    }
    .inter{
        padding: 0 15px;
    }
    .inter-flex .inter{
        flex: 0 0 100%;
        width: 100%;
        word-break: normal;
        position: relative;
    }
    .inter-flex .auno,
    .inter-flex .ados{
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    .inter-flex .auno span{
        color: #2897D4 ;
        font-size: 33px;
        display: flex;
        align-items: center;
        padding-right: 15px;
    }
    .inter-flex .auno span small{
        font-size: 16px;
    }
    .avance{
        color: #2897D4 ;
        font-size: 33px;
        display: flex;
        align-items: center;
    }
    .avance small{
        font-size: 16px;
    }
    .numero-big{
        flex: 0 0 auto;
        padding-right: 15px;
        font-size: 45px;
        color: #979797;
    }
    .inter-flex .atres *{
        margin: 0;
    }
    .panel{cursor: pointer;}
    .panel .inter-flex *{
        transition: none;
    }
    .panel:focus .inter-flex *,
    .panel:active .inter-flex *,
    .panel:hover .inter-flex *{
        color: #fff;
    }
    #tipo-proyectos .panel:not(.active):focus{background: #fff;color:#333!important;}
    #tipo-proyectos .panel:not(.active):focus .text-secondary,
    #tipo-proyectos .panel:not(.active):focus .text-muted{color:#707070!important;}
    #tipo-proyectos .panel:not(.active):focus i.text-secondary{color:#2897D4!important; }
    #tipo-proyectos .panel:not(.active):focus .progress{background-color: #E5EAEB;}
    #tipo-proyectos .panel:not(.active):focus .progress-bar{background-color: #707070;}
    #tipo-proyectos .panel:not(.active):focus .big small{color: rgba(112, 112, 112, .5);}
    
    #tipo-proyectos .panel:not(.active):active{background: #0072bb;color:#fff!important;}
    #tipo-proyectos .panel:not(.active):active .text-secondary,
    #tipo-proyectos .panel:not(.active):active i.text-secondary,
    #tipo-proyectos .panel:not(.active):active .text-muted{color:#fff!important;}
    #tipo-proyectos .panel:not(.active):active .progress{background-color: rgba(255, 255, 255,.4);}
    #tipo-proyectos .panel:not(.active):active .progress-bar{background-color: #fff;}
    #tipo-proyectos .panel:not(.active):active .big small{color: rgba(255, 255, 255,.4);}
    
    .panel.active{background: #0072bb;color:#fff!important;}
    .panel.active .text-secondary,
    .panel.active .text-muted{color:#fff!important;}
    .panel.active .progress{background-color: rgba(255, 255, 255,.4);}
    .panel.active .progress-bar{background-color: #fff;}
    .panel.active .big small{color: rgba(255, 255, 255,.4);}

    .panel .panel-footer.state-loading{height: 100%;min-height: 150px;}
    .panel .panel-footer.state-loading:after{background: none;}

    div[data-render=tarjetas] .alert{width: 100%;}
    tbody[data-render=indicadores] .lead{
        font-size: 1.5em;
        font-weight: bold;
    }

    @media all and (min-width: 576px) {
        .flex-panels .col{
            flex: 0 0 50%;
            width: 50%;
        }
    }
    @media all and (min-width: 768px) {
        /*.flex-panels {
            justify-content: center;
        }*/
        .flex-panels .col{
            flex: 0 0 33.333333%;
            width: 33.333333%;
            max-width: initial;
        }
        .inter-flex .auno{
            flex: 0 0 21%;
            width: 21%;
        }
        .inter-flex .auno:after,
        .inter-flex .ados:after{
            content: "";
            width:1px;
            height: 47px;
            display: block;
            background-color: #CCCCCC;
            position: absolute;
            right: 0;
            top:50%;
            margin-top: -23px;
        }
        .inter-flex .ados{
            flex: 0 0 35%;
            width: 35%;
        }
        .inter-flex .atres{
            flex: 0 0 44%;
            width: 44%;
        }
    }
    @media all and (min-width: 992px) {
        .inter-flex .auno{
            flex: 0 0 20%;
            width: 20%;
        }
        .inter-flex .ados{
            flex: 0 0 35%;
            width: 35%;
        }
        .inter-flex .atres{
            flex: 0 0 45%;
            width: 45%;
        }
        #alcance .col-md-3 {
            width: 20%!important;
        }
    }
    @media all and (min-width: 1200px) {
        .flex-panels {
            justify-content: space-between;
        }
        .flex-panels .col{
            flex: 1 1 0;
        }
        #tipo-proyectos .panel-body h2{min-height: 2.6em;}
        
    }

</style>
<section class="jumbotron" style="background-image: url(https://www.argentina.gob.ar/sites/default/files/styles/jumbotron/public/jumbotron_turnos_jumbotron_turnos_2.jpg?itok=QClfXTYd);">
    <div class="jumbotron_bar">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <ul class="list-inline pull-right">
                        <li class="first last leaf"><a href="">ACERCA</a></li>
                    </ul>
                    <ol class="breadcrumb">
                        <li><a href="/">Inicio</a></li>
                        <li><a href="/jefatura">Jefatura de Gabinete de Ministros</a></li>
                        <li><a href="/modernizacion">Modernización</a></li>
                        <li class="active">Tablero Ciudadano</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron_body">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-md-8 col-md-offset-2 text-center">
                    <h1>Tablero Ciudadano</h1>
                    <p>Estos son los proyectos prioritarios en los que trabaja la Secretaría de Gobierno de Modernización. Participá en el análisis y seguimiento de nuestras acciones y resultados.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="overlay"></div>
</section>
<div class="container">

<section>
    <h3>Lineamientos</h3>
    <div class="row flex-panels m-b-1" id="tipo-proyectos">
        <div class="col">
            <a class="panel panel-default" href="javascript:" data-tipoproyectos="gobierno" value="gobierno">
                <div class="panel-body">
                    <i class="text-secondary fa fa-users fa-fw fa-2x" aria-hidden="true"></i>
                    <h2>Gobierno Abierto</h2>
                </div>
                <div class="panel-footer state-loading"></div>
            </a>
        </div>
        <div class="col">
            <a class="panel panel-default" href="javascript:" data-tipoproyectos="empleo" value="empleo">
                <div class="panel-body">
                    <i class="text-secondary fa fa-briefcase fa-fw fa-2x" aria-hidden="true"></i>
                    <h2>Nuevo Empleo Público</h2>
                </div>
                <div class="panel-footer state-loading"></div>
            </a>
        </div>
        <div class="col">
            <a class="panel panel-default" href="javascript:" data-tipoproyectos="estado" value="estado">
                <div class="panel-body">
                    <i class="text-secondary fa fa-desktop fa-fw fa-2x" aria-hidden="true"></i>
                    <h2>Gobierno Digital</h2>
                </div>
                <div class="panel-footer state-loading"></div>
            </a>
        </div>
        <div class="col">
            <a class="panel panel-default" href="javascript:" data-tipoproyectos="municipio" value="municipio">
                <div class="panel-body">
                    <i class="text-secondary icono-arg-inclusion-digital fa-fw fa-2x" aria-hidden="true"></i>
                    <h2>Inclusión Digital</h2>
                </div>
                <div class="panel-footer state-loading"></div>
            </a>
        </div>
        <div class="col">
            <a class="panel panel-default" href="javascript:" data-tipoproyectos="conectividad" value="conectividad">
                <div class="panel-body">
                    <i class="text-secondary fa fa-wifi fa-fw fa-2x" aria-hidden="true"></i>
                    <h2>Conectividad</h2>
                </div>
                <div class="panel-footer state-loading"></div>
            </a>
        </div>
    </div>
</section>

<section>
    <div id="proyectos">
        <h5 class="m-b-2 ">Podés buscar los resultados según público objetivo</h5>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <div class="row panels-row" id="alcance">
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <a class="panel panel-default" data-filtro="">
                              <div class="panel-body">
                                <p>Todos</p>
                              </div>
                            </a>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <a class="panel panel-default" data-filtro="ciudadano">
                              <div class="panel-body">
                                <p>Ciudadanos</p>
                              </div>
                            </a>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <a class="panel panel-default" data-filtro="civil">
                              <div class="panel-body">
                                <p>Organizaciones de la Sociedad Civil</p>
                              </div>
                            </a>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <a class="panel panel-default" data-filtro="apn">
                              <div class="panel-body">
                                <p>Administración Pública</p>
                              </div>
                            </a>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-3">
                            <a class="panel panel-default" data-filtro="gobiernos">
                              <div class="panel-body">
                                <p>Gobiernos Subnacionales</p>
                              </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <h4 class="m-b-2 ">Proyectos</h4>
        <div class="list row panels-row state-loading" data-render="tarjetas">&nbsp;</div>
    </div>
</section>

<div data-render="modales">&nbsp;</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/locale/es.js">
</script>
<script>
    jQuery(function() {
        var templates = {
            tarjeta: '<div class="col-xs-12 col-sm-12 col-md-12"> <span class="fecha hidden">{inicioProyecto}</span> <span class="duracion hidden">({duracionProyecto})</span> <a href="#proyecto-{index}" data-toggle="modal" class="panel panel-default"> <div class="panel-body"> <h3 class="nombre-proyecto">{nombre}</h3> </div><div class="panel-footer"> <div class="inter-flex"> <div class="inter auno"> <span>{avancePorcentajeInicial}</span> Avance </div><div class="inter ados"> <h4>{metas}</h4> </div><div class="inter atres"> <p>Organismo Responsable</p><h4>{area}</h4> </div></div></div></a></div>',
            modal: '<div id="proyecto-{index}" class="modal fade" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">×</span> </button> <p class="text-primary">{lineamiento}</p><h4 class="modal-title">{proyecto}</h4> </div><div class="modal-body p-x-2"> <p class="m-t-1">{descripcion}</p><h5 class="m-t-2">Impacto</h5> <p>{impacto}</p><h5 class="m-t-2">Público objetivo</h5> <div> {sciudadano}{scivil}{sapn}{sgobiernos}</div> <h5 class="m-t-2">Organismo responsable</h5> <p>{area}</p><table class="table"> <thead> <tr> <th>Indicador</th> <th>Meta Anual</th> <th>Avance</th> </tr></thead> <tbody data-render="indicadores"> </tbody> </table> <h5 class="m-t-3">Etapas del proyecto​</h5> <table class="table"> <thead> <tr> <th>Hitos</th> <th>Inicio</th> <th>Fin</th> <th style="width:130px;">Estado</th> </tr></thead> <tbody data-render="hitos"> </tbody> </table> <p class="text-center m-t-3 m-b-1"> <a href="{link}" target="_blank" class="btn btn-primary btn-lg">Conocé más del proyecto</a> </p></div></div></div></div>',
            hito: '<tr> <td class="titulo"> <p>{nombre}</p></td> <td><p>{inicio}</p></td> <td><p>{fin}</p></td> <td><p><strong>{estado}</strong></p></td> </tr>',
            indicador: '<tr> <td><p>{nombre}</p></td><td><p>{metaAnual}</p></td><td><p>{avancePorcentaje}</p></td></tr>'
        }

        window.proyectos = [];
        window.config = {
            tipo: 'todos',
            alcance: ''
        }

        jQuery.ajax({
            url: 'https://spreadsheets.google.com/feeds/list/1kbUbjLgw4Mx-hkKxt_64ncNj6vDynXdpr_i1MonnDFs/1/public/values?alt=json',
            // url: 'https://interfaces.argentina.gob.ar/api/public/v1.0/inap/1kbUbjLgw4Mx-hkKxt_64ncNj6vDynXdpr_i1MonnDFs/1',
            data: 'json',
            success: function(response) {
                var leorespuesta = response.feed.entry;
                
                categorias = leorespuesta.reduce(function(result, current) { result[current.gsx$lineamiento.$t] = result[current.gsx$lineamiento.$t] || []; result[current.gsx$lineamiento.$t].push(current); return result; }, {});

                //console.log(categorias);

                jQuery.each(categorias, function(index, catego) {
                    if(index != 0){
                        //console.log(catego.length);
                        //console.log(catego);
                        var realizados = 0;
                        jQuery.each(catego, function(index, proto) {
                            var percent = proto.gsx$porcentaje.$t.split("%");
                            //console.log(percent[0] + "%");
                            if (percent[0] > 99 ){
                                realizados++
                                //console.log("realizados " + realizados);
                            }
                        });
                        var done = (realizados * 100 / catego.length).toFixed(0);
                        //console.log(realizados + "/" + catego.length + " " + index + " " + done + "%");
                        
                        var title = jQuery("#tipo-proyectos .panel[data-tipoproyectos="+ index +"] .panel-body h2").text();

                        jQuery("#tipo-proyectos .panel[data-tipoproyectos="+ index +"] .panel-footer").removeClass('state-loading');

                        jQuery("#tipo-proyectos .panel[data-tipoproyectos="+ index +"] .panel-footer").html(`
                        <div class="big text-muted">${realizados}<small>/${catego.length}</small></div>
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" aria-valuenow="${done}" aria-valuemin="0" aria-valuemax="100" style="width: ${done}%;">
                                <span class="sr-only">${realizados} de ${catego.length}</span>
                            </div>
                        </div>
                        <p class="text-muted msj-exito">Avance proyectos de ${title}</p>
                        `);

                        if(done > 99){
                            jQuery("#tipo-proyectos .panel[data-tipoproyectos="+ index +"] .msj-exito").html('¡Metas cumplidas!<br><i class="fa fa-star" aria-hidden="true"></i>');
                        }

                        //jQuery("#tipo-proyectos .panel[data-tipoproyectos="+ index +"] .big").html(realizados+"<small>/"+catego.length+"</small>");
                    }
                });

                jQuery.each(response.feed.entry, function(index, row) {

                    if (row.gsx$tipo.$t == "proyecto") {
                        
                        proyectos.push({
                            index: index,
                            lineamiento: row.gsx$lineamiento.$t,
                            nombre: row.gsx$nombre.$t,
                            descripcion: row.gsx$descripcion.$t,
                            impacto: row.gsx$impacto.$t,
                            ciudadano: row.gsx$ciudadano.$t,
                            sciudadano: row.gsx$ciudadano.$t,
                            civil: row.gsx$civil.$t,
                            scivil: row.gsx$civil.$t,
                            apn: row.gsx$apn.$t,
                            sapn: row.gsx$apn.$t,
                            gobiernos: row.gsx$gobiernos.$t,
                            sgobiernos: row.gsx$gobiernos.$t,
                            innovacion: row.gsx$innovacion.$t,
                            participacion: row.gsx$participacion.$t,
                            eficiencia: row.gsx$eficiencia.$t,
                            apertura: row.gsx$apertura.$t,
                            area: row.gsx$area.$t,
                            link: row.gsx$link.$t,
                            indicadores: [],
                            avance: row.gsx$avance.$t,
                            porcentaje: row.gsx$porcentaje.$t,
                            hitos: []
                        });

                    } else if (row.gsx$tipo.$t == "indicador") {

                        proyectos[proyectos.length - 1].indicadores.push({
                            nombre: row.gsx$nombre.$t,
                            fuente: row.gsx$fuente.$t,
                            formulacion: row.gsx$formulacion.$t,
                            metaAnual: row.gsx$metaanual.$t,
                            avance: row.gsx$avance.$t,
                            area: row.gsx$area.$t,
                            porcentaje: row.gsx$porcentaje.$t
                        });

                    } else if (row.gsx$tipo.$t == "hito") {

                        proyectos[proyectos.length - 1].hitos.push({
                            nombre: row.gsx$nombre.$t,
                            inicio: row.gsx$inicio.$t,
                            fin: row.gsx$fin.$t,
                            estado: row.gsx$estado.$t
                        });

                    }

                })

                render.tarjetas();

            }
        });

        var render = {
            tarjetas: function() {

                jQuery('[data-render=tarjetas]').removeClass('state-loading');
                jQuery('[data-render=tarjetas]').html('');
                jQuery('[data-render=modales]').html('');

                jQuery.each(proyectos, function(index, proyecto) {

                    if (!(config.tipo != 'todos' && config.tipo != proyecto.lineamiento) && !(config.alcance && proyecto[config.alcance] != "si") && proyecto.hitos.length > 0) {

                        var html = templates.tarjeta;
                        var modal = templates.modal;

                        fecha = proyecto.hitos[0].inicio.split('/');

                        var inicioFecha = moment(proyecto.hitos[0].inicio, "DD-MM-YYYY");
                        var finFecha = moment(proyecto.hitos[proyecto.hitos.length - 1].fin, "DD-MM-YYYY");
                        var duracion = finFecha.diff(inicioFecha, 'days');
                        // console.log(duracion);

                        // console.log("posicion 1",proyecto.indicadores[0].avance_2);

                        html = html.replace(/{nombre}/gi, proyecto.nombre)
                            .replace(/{index}/gi, index)
                            .replace(/{lineamiento}/gi, proyecto.lineamiento)
                            .replace(/{descripcion}/gi, proyecto.descripcion.substring(0, 100) + '...')
                            .replace(/{ciudadano}/gi, proyecto.ciudadano.replace("no", "").replace("si", "Ciudadanos"))
                            .replace(/{sciudadano}/gi, proyecto.ciudadano.replace("no", "").replace("si", "<span class='label label-default' style='margin-right:5px;'>Ciudadanos</span>"))
                            .replace(/{civil}/gi, proyecto.civil.replace("no", "").replace("si", "Organizaciones de la Sociedad Civil"))
                            .replace(/{scivil}/gi, proyecto.civil.replace("no", "").replace("si", "<span class='label label-default' style='margin-right:5px;'>Organizaciones de la Sociedad Civil</span>"))
                            .replace(/{apn}/gi, proyecto.apn.replace("no", "").replace("si", "Administración Pública"))
                            .replace(/{sapn}/gi, proyecto.apn.replace("no", "").replace("si", "<span class='label label-default' style='margin-right:5px;'>Administración Pública</span>"))
                            .replace(/{gobiernos}/gi, proyecto.gobiernos.replace("no", "").replace("si", "Gobiernos Subnacionales"))
                            .replace(/{sgobiernos}/gi, proyecto.gobiernos.replace("no", "").replace("si", "<span class='label label-default' style='margin-right:5px;'>Gobiernos Subnacionales</span>"))
                            .replace(/{metas}/gi, proyecto.indicadores[0].metaAnual)
                            .replace(/{area}/gi, proyecto.area)
                            .replace(/{inicioProyecto}/gi, fecha[2] + fecha[1] + fecha[0])
                            .replace(/{duracionProyecto}/gi, duracion);
                        //.replace(/{estado}/gi, 'Iniciado');

                        if (!/[a-zA-Z]/.test(proyecto.indicadores[0].porcentaje)) {
                            //html = html.replace(/{avancePorcentajeInicial}/gi, proyecto.indicadores[0].porcentaje + ' cumplido')
                            html = html.replace(/{avancePorcentajeInicial}/gi, proyecto.indicadores[0].porcentaje)
                        }

                        var etiquetas = proyecto.innovacion.replace("no", "").replace("si", "innovacion | ") + proyecto.participacion.replace("no", "").replace("si", "participacion | ") + proyecto.apertura.replace("no", "").replace("si", "apertura | ") + proyecto.eficiencia.replace("no", "").replace("si", "eficiencia | ");
                        etiquetas = etiquetas.slice(0, -2);

                        modal = modal.replace(/{proyecto}/gi, proyecto.nombre)
                            .replace(/{index}/gi, index)
                            .replace(/{etiquetas}/gi, etiquetas)
                            .replace(/{lineamiento}/gi, proyecto.lineamiento.replace("gobierno", "Gobierno Abierto").replace("empleo", "Nuevo Empleo Público").replace("estado", "Gobierno Digital").replace("municipio", "Inclusión Digital").replace("conectividad", "Conectividad"))
                            .replace(/{descripcion}/gi, proyecto.descripcion)
                            .replace(/{estado}/gi, proyecto.estado)
                            .replace(/{ciudadano}/gi, proyecto.ciudadano.replace("no", "").replace("si", "Ciudadanos"))
                            .replace(/{sciudadano}/gi, proyecto.ciudadano.replace("si", "<span class='label label-default'  style='margin-right:5px;'>Ciudadanos</span>"))
                            .replace(/{civil}/gi, proyecto.civil.replace("no", "").replace("si", "Organizaciones de la Sociedad Civil"))
                            .replace(/{scivil}/gi, proyecto.civil.replace("no", "").replace("si", "<span class='label label-default'  style='margin-right:5px;'>Organizaciones de la Sociedad Civil</span>"))
                            .replace(/{apn}/gi, proyecto.apn.replace("no", "").replace("si", "Administración Pública"))
                            .replace(/{sapn}/gi, proyecto.apn.replace("no", "").replace("si", "<span class='label label-default'  style='margin-right:5px;'>Administración Pública</span>"))
                            .replace(/{gobiernos}/gi, proyecto.gobiernos.replace("no", "").replace("si", "Gobiernos Subnacionales"))
                            .replace(/{sgobiernos}/gi, proyecto.gobiernos.replace("no", "").replace("si", "<span class='label label-default'  style='margin-right:5px;'>Gobiernos Subnacionales</span>"))
                            .replace(/{link}/gi, proyecto.link)
                            .replace(/{area}/gi, proyecto.area)
                            .replace(/{impacto}/gi, proyecto.impacto)
                            .replace(/{descripcion}/gi, proyecto.descripcion.substring(0, 100) + '...')
                            .replace(/{inicioProyecto}/gi, proyecto.hitos[0].inicio)
                            .replace(/{finProyecto}/gi, proyecto.hitos[proyecto.hitos.length - 1].fin)
                            .replace(/{avancePorcentajeInicial}/gi, proyecto.indicadores[0].porcentaje);

                        jQuery('[data-render=tarjetas]').append(html);
                        jQuery('[data-render=modales]').append(modal);

                        jQuery.each(proyecto.indicadores, function(index, indicador) {

                            var htmlIndicador = templates.indicador;

                            htmlIndicador = htmlIndicador.replace(/{nombre}/gi, indicador.nombre)
                                .replace(/{fuente}/gi, indicador.fuente)
                                .replace(/{formulacion}/gi, indicador.formulacion)
                                .replace(/{metaAnual}/gi, indicador.metaAnual)
                                .replace(/{avance}/gi, indicador.avance)
                                .replace(/{avancePorcentaje}/gi, '<span class="lead">'+ indicador.porcentaje +'</span>');

                            jQuery('[data-render=modales] > div:last').find('[data-render=indicadores]').append(htmlIndicador);

                        });

                        jQuery.each(proyecto.hitos, function(index, hito) {

                            var htmlHito = templates.hito;

                            if (hito.estado == "finalizado") {
                                var estado = '<span class="text-success"><i class="fa fa-check-square-o fa-fw" aria-hidden="true"></i> Finalizado</span>';
                            } else if (hito.estado == "en_avance") {
                                var estado = '<span class="text-gray"><i class="fa fa-arrow-right fa-fw" aria-hidden="true"></i> En avance</span>';
                            } else if (hito.estado == "sin_inicio") {
                                var estado = '<span class="text-muted"><i class="fa fa-calendar-minus-o fa-fw" aria-hidden="true"></i> Sin inicio</span>';
                            } else if (hito.estado == "demorado") {
                                var estado = '<span class="text-danger"><i class="fa fa-ban fa-fw" aria-hidden="true"></i> Demorado</span>';
                            }

                            htmlHito = htmlHito.replace(/{nombre}/gi, hito.nombre)
                                .replace(/{inicio}/gi, hito.inicio)
                                .replace(/{fin}/gi, hito.fin)
                                .replace(/{estado}/gi, estado);

                            jQuery('[data-render=modales] > div:last').find('[data-render=hitos]').append(htmlHito);

                        });

                    }

                });

            }
        }

        var alertavacia = '<div class="col-xs-12"><div class="alert alert-info"><p>No se encontraron resultados. Intente cambiando el criterio para filtrar.</p></div></div>';

        jQuery("#tipo-proyectos .panel").on("click", function() {
            //config.tipo = jQuery(this).data('tipoproyectos');
            if (jQuery(this).hasClass('active')) {
                jQuery(this).removeClass('active');
                config.tipo = 'todos';
            } else {
                jQuery("#tipo-proyectos .panel").removeClass('active');
                jQuery(this).addClass('active');
                config.tipo = jQuery(this).data('tipoproyectos');
            }

            render.tarjetas();
            if (jQuery('[data-render=tarjetas]').is(':empty')){
                jQuery('[data-render=tarjetas]').html(alertavacia);
            }
        });

        jQuery("#alcance [data-filtro]").bind("click", function() {
            if (jQuery(this).hasClass('active')) {
                jQuery(this).removeClass('active');
                config.alcance = '';
            } else {
                jQuery("#alcance [data-filtro]").removeClass('active');
                jQuery(this).addClass('active')
                config.alcance = jQuery(this).attr('data-filtro');
            }

            render.tarjetas();
            if (jQuery('[data-render=tarjetas]').is(':empty')){
                jQuery('[data-render=tarjetas]').html(alertavacia);
            }
        });
    });
</script>

</div>