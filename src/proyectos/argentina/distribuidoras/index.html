---
layout: argentina
---

<div class="container">
 <section>

 <div class="row">
   <div class="col-md-12">
    <h3 class="text-center">Listado de distribuidoras</h3>

    <div id="tabla">

      <div class="row">
        <div class="col-md-7">    
          <div class="form-group">
            <label>Ingresá tu búsqueda </label>
            <input class="form-control search" placeholder="Ingresá tu búsqueda">
          </div>
        </div>
        <div class="col-md-5">
          <div class="form-group">
            <label for="">Tipo</label>
            <select id="tipo" class="form-control"></select>
          </div>
        </div>
        
      </div>

      <table class="table table-align-middle table-mobile table-spaced">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Localidad </th>
            <th>Partido</th>
            <th>Provincia</th>
          </tr>
        </thead>
        <tbody class="list" id="show-data"></tbody>
      </table>
      <nav class="text-center">
        <ul class="pagination"></ul>
      </nav>           


    </div>  

       
   </div>
 </div>


  </section>
</div>



<!--<script src="{{ "/node_modules/list.js/dist/list.min.js" | prepend: site.baseurl }}"></script>-->
<!--<script src="/profiles/argentinagobar/themes/argentinagobar/argentinagobar_theme/js/listjs/list.min.js"></script>-->
<script src="https://www.argentina.gob.ar/profiles/argentinagobar/themes/argentinagobar/argentinagobar_theme/js/listjs/list.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/list.pagination.js/0.1.1/list.pagination.min.js"></script>

<script>

(function($) {
$(document).ready(function () {


    $.getJSON('https://interfaces.argentina.gob.ar/api/public/v1.0/inap/12M6gWmb9tH4cgKpBhDtgcfXaRwQdAaGSzvqfMWAZafA/1', function (data) {
        window.dataDrive = data.feed.entry;
        mostrarInformacion("Todos");
        console.log(data);
    });

    window.mostrarInformacion = function(tipos){
        var showData = $('#show-data');

        var html = '';

        $.each( dataDrive, function( key, item ) {

        var direccion = '';

        if(item.gsx$direccion.$t != '') {
          direccion = '<p class="margin-0">Dirección: '+ item.gsx$direccion.$t + '</p>'
        }        

        if( item.gsx$tipo.$t == tipos ){
            html += '<tr>';
            html += ' <td class="nombre"><span class="td-label">Nombre</span><h6>'+ item.gsx$razonsocial.$t + '<h6><h6 class="text-muted small">'+ item.gsx$tipo.$t + '</h6> ' + direccion + ' </td>';
            html += ' <td class="localidad"><span class="td-label">Localidad</span>'+ item.gsx$localidad.$t + '</td>';
            html += ' <td class="partido"><span class="td-label">Partido</span>'+ item.gsx$partido.$t + '</td>';
            html += ' <td class="provincia"><span class="td-label">Provincia</span>'+ item.gsx$provincia.$t + '</td>';
            html += '</tr>';
        }
        else if(tipos == "Todos"){
            html += '<tr>';
            html += ' <td class="nombre"><span class="td-label">Nombre</span><h6>'+ item.gsx$razonsocial.$t + '<h6><h6 class="text-muted small">'+ item.gsx$tipo.$t + '</h6> ' + direccion + ' </td>';
            html += ' <td class="localidad"><span class="td-label">Localidad</span>'+ item.gsx$localidad.$t + '</td>';
            html += ' <td class="partido"><span class="td-label">Partido</span>'+ item.gsx$partido.$t + '</td>';
            html += ' <td class="provincia"><span class="td-label">Provincia</span>'+ item.gsx$provincia.$t + '</td>';
            html += '</tr>';
        }



        });

        showData.empty();
        showData.append(html);

        var listOptions = {
          valueNames: [ 'localidad', 'partido', 'provincia', 'nombre' ],
          page: 20,
          plugins: [ ListPagination({}) ]
          
         };
        var tablaList = new List('tabla', listOptions);  

        jQuery('.search').on("keyup",function(){
            var valueSearch = jQuery(".search").val();
            tablaList.search(valueSearch);
        });

    }


    selectValues = [ 
      "Todos",
      "DISTRIBUIDORA",
      "FRACCIONADORA",
      "FRACCCIONADORA DE PROPANO"
    ];


    $.each(selectValues, function(key, value) {   
         $('#tipo')
             .append($("<option></option>")
                        .attr("value",value)
                        .data("tipo",value)
                        .text(value)); 
    }); 

    $("#tipo").on("change", function() {
      var tipos = $( "#tipo option:selected" ).data('tipo');
      mostrarInformacion(tipos);

    });



});
})(jQuery);

</script>


