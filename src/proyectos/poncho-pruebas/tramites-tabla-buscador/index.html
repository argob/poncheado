---
layout: argentina
---

<div class="container">
 <section>

    <h3 class="text-center">Trámites y Servicios</h3>
    <div id="tramites">
      <div class="row">
        <div class="col-md-8">    
          <div class="form-group">
            <label for="">Buscá Trámites y Servicios</label>
            <input class="form-control filtered-search" placeholder="Buscá por nombre de trámite">
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label for="">Filtrar por categoría</label>
            <select id="tipo-tramites" class="form-control">
            <option data-tipotramites="todos" value="todos">Todos</option>

              <option data-tipotramites="Asociatividad" value="Asociatividad">Asociatividad</option>
              <option data-tipotramites="Beneficios para exportar" value="Beneficios para exportar">Beneficios para exportar</option>
              <option data-tipotramites="Beneficios para exportar, Invertir para producir" value="Beneficios para exportar, Invertir para producir">Beneficios para exportar, Invertir para producir</option>
              <option data-tipotramites="Capacitaciones" value="Capacitaciones">Capacitaciones</option>
              <option data-tipotramites="Capacitaciones / Asociatividad" value="Capacitaciones / Asociatividad">Capacitaciones / Asociatividad</option>
              <option data-tipotramites="Capacitaciones / Créditos y garantías" value="Capacitaciones / Créditos y garantías">Capacitaciones / Créditos y garantías</option>
              <option data-tipotramites="Capacitaciones, Prestamos y Garantías" value="Capacitaciones, Prestamos y Garantías">Capacitaciones, Prestamos y Garantías</option>
              <option data-tipotramites="Certificaciones" value="Certificaciones">Certificaciones</option>
              <option data-tipotramites="Comercio interior y exterior, Beneficios sociales" value="Comercio interior y exterior, Beneficios sociales">Comercio interior y exterior, Beneficios sociales</option>
              <option data-tipotramites="Comercio interior y exterior, Trabajo, Finanzas e impuestos" value="Comercio interior y exterior, Trabajo, Finanzas e impuestos">Comercio interior y exterior, Trabajo, Finanzas e impuestos</option>
              <option data-tipotramites="Consumidores" value="Consumidores">Consumidores</option>
              <option data-tipotramites="Consumidores / Arbitraje" value="Consumidores / Arbitraje">Consumidores / Arbitraje</option>
              <option data-tipotramites="Consumidores / Cuidado al consumo" value="Consumidores / Cuidado al consumo">Consumidores / Cuidado al consumo</option>
              <option data-tipotramites="Créditos y garantías" value="Créditos y garantías">Créditos y garantías</option>
              <option data-tipotramites="Invertir para producir" value="Invertir para producir">Invertir para producir</option>
              <option data-tipotramites="Invertir para producir / Beneficios impositivos" value="Invertir para producir / Beneficios impositivos">Invertir para producir / Beneficios impositivos</option>
              <option data-tipotramites="Invertir para producir / Beneficios para exportar / Beneficios impositivos" value="Invertir para producir / Beneficios para exportar / Beneficios impositivos">Invertir para producir / Beneficios para exportar / Beneficios impositivos</option>
              <option data-tipotramites="Invertir para producir / Beneficios para exportar / Créditos y garantías / Beneficios impositivos" value="Invertir para producir / Beneficios para exportar / Créditos y garantías / Beneficios impositivos">Invertir para producir / Beneficios para exportar / Créditos y garantías / Beneficios impositivos</option>
              <option data-tipotramites="Invertir para producir / Beneficios para exportar / Licencias y Registros / Beneficios impositivos" value="Invertir para producir / Beneficios para exportar / Licencias y Registros / Beneficios impositivos">Invertir para producir / Beneficios para exportar / Licencias y Registros / Beneficios impositivos</option>
              <option data-tipotramites="Licencias y Registros" value="Licencias y Registros">Licencias y Registros</option>
              <option data-tipotramites="Licencias y Registros / Asociatividad" value="Licencias y Registros / Asociatividad">Licencias y Registros / Asociatividad</option>
              <option data-tipotramites="Préstamos y Garantías" value="Préstamos y Garantías">Préstamos y Garantías</option>
              <option data-tipotramites="Registros" value="Registros">Registros</option>
            </select>
          </div>
        </div>
      </div>
      <table class="table table-spaced">
        <thead>
          <tr>
            <th class="titulo">Trámite</th>
            <th><a class="sort" data-sort="resumen">Resumen <span class="caret"></span></a></th>
            <th style="width: 135px;"><a class="sort" data-sort="categoria">Categoría/s <span class="caret"></span></a></th>
            <th style="width: 135px;">Url</th>
          </tr>
        </thead>
        <tbody class="list" id="show-data">
        </tbody>
      </table>
       <div id="alerta" class="alert alert-warning col-md-4 no-result">
        <div class="media">
          <div class="media-left media-middle">
            <i class="fa fa-warning fa-fw fa-2x"></i>
          </div>
          <div class="media-body">
            <p>No hay resultados para mostrar</p>
          </div>
        </div>
      </div>       
    </div>
  </section>
  <section class="hide">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <hr>
        <div class="section-actions is_area social-share">
          <p>Compartir en <br> redes sociales</p>
          <ul class="list-inline">
            <li><a href="#"><i class="fa fa-facebook"></i></a></li>
            <li><a href="#"><i class="fa fa-twitter "></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </section>
</div>



<!--<script src="{{ "/node_modules/list.js/dist/list.min.js" | prepend: site.baseurl }}"></script>-->
<script src="https://www.argentina.gob.ar/profiles/argentinagobar/themes/argentinagobar/argentinagobar_theme/js/listjs/list.min.js"></script>

<script>

(function($) {
$(document).ready(function () {


  $.getJSON('https://interfaces.argentina.gob.ar/api/public/v1.0/inap/1MAr5k7lYNeKt0acKGiOIK4aJQ9Bt4M6jGDYNQ75-gWY/1', function (data) {
      window.tramites = data.feed.entry;

      var tipoTramites = $( "#tipo-tramites option:selected" ).data('tipotramites');

      showTramites('todos');

        showTramites(tipoTramites);
        console.log(tipoTramites);

      // console.log(data);
  });

  window.showTramites = function(tipoTramites){
      var showData = $('#show-data');

      var html = '';


      $.each( tramites, function( key, item ) {

         if( item.gsx$categorías.$t == tipoTramites ){

          html += '<tr>';
          html += ' <td data-insensitive="true"> <h6 class="titulo">'+ item.gsx$nombre.$t + '</h6></td>';
          html += ' <td class="resumen">'+ item.gsx$resumen.$t + '</td>';
          html += ' <td class="categoria">'+ item.gsx$categorías.$t + '</td>';
          html += ' <td><a class="btn btn-primary btn-sm" href="'+ item.gsx$url.$t + '">Ver más</a></td>';
          html += '</tr>';

         }

         else if  (tipoTramites == "todos") {

          html += '<tr>';
          html += ' <td data-insensitive="true"> <h6 class="titulo">'+ item.gsx$nombre.$t + '</h6></td>';
          html += ' <td class="resumen">'+ item.gsx$resumen.$t + '</td>';
          html += ' <td class="categoria">'+ item.gsx$categorías.$t + '</td>';
          html += ' <td><a class="btn btn-primary btn-sm" href="'+ item.gsx$url.$t + '">Ver más</a></td>';
          html += '</tr>';            

         }
  
      });

      showData.empty();
      showData(html);

      var listOptions = {
        valueNames: [ 'titulo', 'resumen', 'categoria' ] 
        
       };

      var tramitesList = new List('tramites', listOptions);

      // generic accent removal from input string, add any missing characters
      var removeAccents = (function () {
          var letters1 = "äáàâăëéèêĕíüúùûŭöóòôŏÄÁÀÂĂËÉÈÊĔÜÚÙÛŬÖÓÒÔŎßșȘ",
              letters2 = "aaaaaeeeeeiuuuuuoooooAAAAAEEEEEUUUUUOOOOOssS",
              patternLetters = new RegExp("[" + letters1 + "]", "g"),
              lookupLetters = {}, letterTranslator;

          letters1.split("").forEach(function (letter, i) {
              lookupLetters[letter] = letters2[i];
          });

          letterTranslator = function(match) { 
              return lookupLetters[match] || match;
          };

          return function removeAccents(input) {
              return input.replace(patternLetters, letterTranslator);
          };
      })();

      // creates a specific filter function for use in List.js
      function getAccentInsensitiveFilter(property, search) {
          search = removeAccents(search).toLowerCase();

          return function (item) {
              var value = removeAccents(item.values()[property]).toLowerCase();
              console.log(value.indexOf(search)+' - '+search+' - '+removeAccents(item.values()[property] || "").toLowerCase());
              return value.indexOf(search) > -1;
          };
      }

      $('.no-result').hide();
      
      tramitesList.on('updated', function(list) {
        if (list.matchingItems.length > 0) {
          $('.no-result').hide()
        } else {
          $('.no-result').show()
        }
      });

      jQuery('.filtered-search').on("keyup",function(event){
        event.preventDefault();
        var valueSearch = jQuery(".filtered-search").val();
        tramitesList.filter(getAccentInsensitiveFilter("titulo", valueSearch));
      });

  }

  



  $("#tipo-tramites").on("change", function() {
    var tipoTramites = $( "#tipo-tramites option:selected" ).data('tipotramites');
    showTramites(tipoTramites);
  });


});
})(jQuery);

</script>


